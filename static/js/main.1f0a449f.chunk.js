(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1023:function(e,t){},1219:function(e,t,n){},1221:function(e,t,n){},1224:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(41),s=n.n(c),o=n(1231),i=(n(456),n(423)),u=n(424),l=n(448),m=n(425),f=n(449),d=n(446),p=n.n(d),v=n(1233),A=n(1232),E=n(99),b=n.n(E),h=n(1229);function w(e){return r.a.createElement(h.a,Object.assign({},e,{className:"router-link"}))}var O=n(427),j=n.n(O),g=n(429),y=n.n(g),P=n(426),x=n.n(P),N=(n(620),function(){return r.a.createElement(j.a,{id:"nav",position:"static"},r.a.createElement(y.a,null,r.a.createElement(w,{to:"/"},r.a.createElement("img",{src:x.a,alt:"logo"}))))}),R=n(44),X=n(27),C=n(36),k="userForms";function S(){var e=localStorage.getItem(k);if(!e)return[];try{return JSON.parse(e)}catch(t){return console.error("Error parsing user forms: ".concat(t.stack)),{}}}function V(e){try{var t=JSON.stringify(e);localStorage.setItem(k,t)}catch(n){console.error("Error storing userForm: ".concat(n.stack))}}function F(e,t){console.log("storing user form"),V(Object(R.a)({},S(),Object(C.a)({},e,{title:t.title,lastOpenned:Date.now()})))}var T=n(1230),H=n(430),z=n.n(H);T.a.addLocale(z.a);var D=new T.a,B=function(e){var t=D.format(e,"twitter");return t?t.includes(" ")?t:"".concat(t," ago"):"Just now"},U=n(45),q=n.n(U),L=n(98),W=n.n(L),I=n(431),M=n.n(I),G=n(432),K=n.n(G);n(688);function Q(e){var t=e.hash,n=e.title,a=e.lastOpenned;return r.a.createElement(w,{to:"/".concat(t)},r.a.createElement(W.a,{className:"form-preview"},r.a.createElement(M.a,{className:"miniature"}),r.a.createElement("div",{className:"formTitle"},n),r.a.createElement("div",{className:"bottom"},r.a.createElement("span",{className:"time"},"Openned ",B(a))," ",r.a.createElement(K.a,null))))}var Y=function(){var e=Object(a.useState)([]),t=Object(X.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){var e=Object.entries(S()).map(function(e){var t=Object(X.a)(e,2),n=t[0],a=t[1];return Object(R.a)({},a,{hash:n})}).sort(function(e,t){return t.lastOpenned-e.lastOpenned});console.log("Got user forms",e),c(e)},[]),console.log(n),r.a.createElement("div",{id:"home"},r.a.createElement("section",null,r.a.createElement("div",{className:"site-width"},r.a.createElement("div",{className:"title"},"Decentralized forms, for decentralized projects"),r.a.createElement("p",null,"Finally a way to collect feedback in a decentralized way"),r.a.createElement(w,{to:"/create"},r.a.createElement(q.a,{variant:"contained",color:"primary"},"Start a new form")),n.length&&r.a.createElement("div",{className:"recent-forms"},r.a.createElement("div",{className:"sub-title"},"Recent forms"),r.a.createElement("div",{className:"user-forms"},n.map(function(e){var t=e.hash,n=e.title,a=e.lastOpenned;return r.a.createElement(Q,Object.assign({key:t},{hash:t,title:n,lastOpenned:a}))}))))),r.a.createElement("section",null,r.a.createElement("div",{className:"site-width"},r.a.createElement("div",{className:"title"},"Show the world that you believe in Web3"),r.a.createElement("p",null,"Stop relying on google's tools to do the marketing of your decentralized project. Embrace the Web3 concept on corner of your DApp user experience."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/dapplion/d4rm",style:{textDecoration:"none"}},"Show me the source code")))))},J=n(17),Z=n.n(J),_=n(30),$=n(101),ee=n(35),te=n(450),ne=n(433),ae=n.n(ne);function re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(t){13===(t.charCode?t.charCode:t.keyCode?t.keyCode:0)&&e.apply(void 0,n)}}function ce(e){var t=e.value,n=e.onValueChange,a=e.onEnterPress,c=Object(te.a)(e,["value","onValueChange","onEnterPress"]);return r.a.createElement(ae.a,Object.assign({value:t,onChange:function(e){return n(e.target.value)},onKeyPress:re(a),margin:"normal",fullWidth:!0,autoFocus:!0},c))}ce.defaultProps={onEnterPress:function(){}};var se=ce,oe=n(229),ie=n.n(oe),ue=n(434),le=n.n(ue),me=n(435),fe=n.n(me),de=n(230),pe=n.n(de);function ve(e){var t=e.value,n=e.onValueChange,a=e.onEnterPress,c=e.onUp,s=e.onDown,o=e.onDelete;return r.a.createElement("div",{className:"option-row"},r.a.createElement("span",{className:"arrows"},r.a.createElement(le.a,{onClick:c}),r.a.createElement(fe.a,{onClick:s})),r.a.createElement("span",null,r.a.createElement(pe.a,{className:"circle"})),r.a.createElement("span",{className:"text"},r.a.createElement(se,{value:t,onValueChange:n,onEnterPress:a,margin:"none",className:"option-row-input"})),r.a.createElement("span",{className:"delete"},r.a.createElement(ie.a,{onClick:o})))}function Ae(e){var t=e.onAdd;return r.a.createElement("div",{className:"option-row add-option"},r.a.createElement("span",{className:"arrows"}),r.a.createElement("span",null,r.a.createElement(pe.a,{className:"circle"})),r.a.createElement("span",{className:"text",onClick:t},r.a.createElement(q.a,null,"Add option")),r.a.createElement("span",{className:"delete"}))}function Ee(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"paper-section-topline"}),r.a.createElement(W.a,Object.assign({},e,{elevation:1,className:"paper-section ".concat(e.className)})))}ve.defaultProps={onEnterPress:function(){}};var be=n(100),he=n.n(be),we=n(161),Oe=n.n(we),je=n(162),ge=n.n(je),ye=n(231),Pe=n.n(ye),xe=n(439),Ne=n.n(xe),Re=n(436),Xe=n.n(Re),Ce=n(437),ke=n.n(Ce),Se=n(438),Ve=n.n(Se);function Fe(e,t,n){var a,r=e.length-1;return t<0||n<0||t>r||n>r||t===n?e:Object.assign([],e,(a={},Object(C.a)(a,t,e[n]),Object(C.a)(a,n,e[t]),a))}function Te(e,t){return t<0||t>e.length-1?e:[].concat(Object($.a)(e.slice(0,t)),Object($.a)(e.slice(t+1)))}n(763);var He=["smartContract"],ze=["rinkeby","mainnet"],De={addQuestion:"addQuestion",deleteQuestion:"deleteQuestion",addOption:"addOption",setText:"setText",setOption:"setOption",moveOptionUp:"moveOptionUp",moveOptionDown:"moveOptionDown",deleteOption:"deleteOption"},Be={addQuestion:function(){},deleteQuestion:function(e){return{i:e}},addOption:function(e){return{i:e}},setText:function(e,t){return{i:e,text:t}},setOption:function(e,t,n){return{i:e,j:t,text:n}},moveOptionUp:function(e,t){return{i:e,j:t}},moveOptionDown:function(e,t){return{i:e,j:t}},deleteOption:function(e,t){return{i:e,j:t}}};function Ue(e,t){var n,a,r,c=function(t,n){return Object.assign([],e,Object(C.a)({},t,Object(R.a)({},e[t],n(e[t]))))};switch(t.type){case De.addQuestion:return[].concat(Object($.a)(e),[{text:"",options:[]}]);case De.addOption:return c(t.i,function(e){return{options:[].concat(Object($.a)(e.options),[""])}});case De.deleteQuestion:return Te(e,t.i);case De.setText:return c(t.i,function(){return{text:t.text}});case De.setOption:return n=t.i,a=t.j,r=t.text,c(n,function(e){return{options:Object.assign([],e.options,Object(C.a)({},a,r))}});case De.moveOptionUp:return c(t.i,function(e){return{options:Fe(e.options,t.j,t.j-1)}});case De.moveOptionDown:return c(t.i,function(e){return{options:Fe(e.options,t.j,t.j+1)}});case De.deleteOption:return c(t.i,function(e){return{options:Te(e.options,t.j)}});default:throw new Error("Unknown action")}}function qe(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/^[a-z]|[A-Z]/g,function(e,t){return 0===t?e.toUpperCase():" "+e.toLowerCase()})}var Le=function(){var e=Object(a.useState)(""),t=Object(X.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(X.a)(s,2),i=o[0],u=o[1],l=Object(a.useReducer)(Ue,[{text:"Sample question",options:[]}]),m=Object(X.a)(l,2),f=m[0],d=m[1],p=Object(a.useState)(""),v=Object(X.a)(p,2),A=v[0],E=v[1],b=Object(a.useState)(""),h=Object(X.a)(b,2),w=h[0],O=h[1],j=Object(a.useState)("0x77E91Ab5af418A6154637216d596d75eB8ecf70a"),g=Object(X.a)(j,2),y=g[0],P=g[1],x=Object(a.useState)(""),N=Object(X.a)(x,2),C=N[0],k=N[1],S=Object(a.useState)(!1),V=Object(X.a)(S,2),T=V[0],H=V[1],z=Object(a.useState)(""),D=Object(X.a)(z,2),B=D[0],U=D[1],L=y&&!Object(ee.isAddress)(y),W=Object(a.useMemo)(function(){return function(e,t,n){for(var a={},r=function(){var e=s[c],r=(o=Object(X.a)(e,2))[0],i=o[1];if(!t[r])throw Error("No type defined for action key: ".concat(r));a[r]=function(){return n(Object(R.a)({type:t[r]},i.apply(void 0,arguments)))}},c=0,s=Object.entries(e);c<s.length;c++){var o;r()}return a}(Be,De,d)},[]),I=W.addQuestion,M=W.deleteQuestion,G=W.addOption,K=W.setText,Q=W.setOption,Y=W.moveOptionUp,J=W.moveOptionDown,$=W.deleteOption;function te(){return(te=Object(_.a)(Z.a.mark(function e(){var t,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),U(""),k(""),e.prev=3,t={title:n,description:i,questions:f,submit:{to:w,address:y}},console.log("Uploading form object",t),e.next=8,window.add(t);case 8:a=e.sent,k(a),F(a,t),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error uploading formObj: ".concat(e.t0.stack)),U(e.t0.message);case 17:return e.prev=17,H(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[3,13,17,20]])}))).apply(this,arguments)}var ne=!(!(n&&f.length&&f.reduce(function(e,t){return e&&t.text&&t.options.length},!0)&&A&&w&&y)||L);return r.a.createElement("div",{id:"create",className:"site-width main-section"},r.a.createElement(Ee,null,r.a.createElement("div",{className:"header"},r.a.createElement(se,{label:"Form title",value:n,onValueChange:c,InputProps:{style:{fontSize:"2.5rem"}}}),r.a.createElement(se,{label:"Form description",value:i,onValueChange:u,multiline:!0}))),f.map(function(e,t){var n=e.text,a=e.options;return r.a.createElement(Ee,{key:t,className:"question"},r.a.createElement("div",{className:"header"},r.a.createElement(se,{label:"".concat(t+1,". Question text"),value:n,onValueChange:function(e){return K(t,e)},onEnterPress:function(){return G(t)},margin:"none"}),r.a.createElement(Xe.a,{onClick:function(){return M(t)}})),r.a.createElement("div",{className:"options"},a.map(function(e,n){return r.a.createElement(ve,{key:n,value:e,onValueChange:function(e){return Q(t,n,e)},onUp:function(){return Y(t,n)},onDown:function(){return J(t,n)},onDelete:function(){return $(t,n)},onEnterPress:function(){return n===a.length-1?G(t):null}})}),r.a.createElement(Ae,{onAdd:function(){return G(t)}})))}),r.a.createElement(Ee,{className:"add-question",onClick:I},r.a.createElement(ke.a,{className:"button-svg"}),"Add question",r.a.createElement("div",{id:"gradient"})),r.a.createElement(Ee,{className:"submit-mechanism"},r.a.createElement("div",{className:"title"},"Submission mechanism"),r.a.createElement("p",null,"Specify how to aggregate user's answers."),r.a.createElement(he.a,{className:"select"},r.a.createElement(Oe.a,{htmlFor:"age-simple"},"Submit to"),r.a.createElement(ge.a,{value:A,onChange:function(e){return E(e.target.value)}},He.map(function(e){return r.a.createElement(Pe.a,{key:e,value:e},qe(e))}))),"smartContract"===A&&r.a.createElement(he.a,{className:"select"},r.a.createElement(Oe.a,{htmlFor:"age-simple"},"Publish to"),r.a.createElement(ge.a,{value:w,onChange:function(e){return O(e.target.value)}},ze.map(function(e){return r.a.createElement(Pe.a,{key:e,value:e},qe(e))}))),"smartContract"===A&&r.a.createElement(se,{label:L?"Invalid address":"Smart contract ".concat(w," address"),error:L,value:y,onValueChange:P})),!C&&!T&&r.a.createElement("div",{className:"publish-button"},r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return te.apply(this,arguments)},disabled:!ne},r.a.createElement(Ve.a,{className:"button-svg"}),"Publish")),T&&r.a.createElement("div",null,"Publishing...",r.a.createElement(Ne.a,null)),B&&r.a.createElement("div",{style:{color:"red"}},"Error publishing: ",B),C&&r.a.createElement("div",null,r.a.createElement("h6",null,"Published form!"),r.a.createElement("p",null,C)),r.a.createElement("div",{className:"mt-5"}))},We=n(440),Ie=n.n(We)()("ipfs.infura.io","5001",{protocol:"https"});function Me(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(_.a)(Z.a.mark(function e(t){var n,a,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),a=Ie.types.Buffer.from(n),e.next=4,Ie.add(a);case 4:return r=e.sent,e.abrupt("return",r[0].hash);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ke(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(_.a)(Z.a.mark(function e(t){var n,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.cat(t);case 2:return n=e.sent,a=n.toString("utf8"),e.abrupt("return",JSON.parse(a));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}window.ipfs=Ie,window.add=Me,window.cat=Ke;var Ye={add:Me,cat:Ke,isHash:function(e){return Ie.util.isIPFS.cid(e)}};function Je(e){if(!e.title)throw Error("Invalid form: Must contain a title");if(!e.questions||!Array.isArray(e.questions))throw Error("Invalid form: Must contain questions");if(!e.submit)throw Error("Invalid form: Must contain submit specification");return e.questions=e.questions.map(function(e){var t=e.text,n=e.title,a=e.options,r=e.answers;return{text:t||n,options:a||r}}),e}function Ze(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(_.a)(Z.a.mark(function e(t){var n;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ye.isHash(t)){e.next=2;break}throw Error("Invalid IPFS hash: ".concat(t));case 2:return e.next=4,Ye.cat(t);case 4:return n=Je(n=e.sent),e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var $e=n(163);function et(){return(et=Object(_.a)(Z.a.mark(function e(t){var n,a,r,c,s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,a=t.questions,r=new b.a("https://rinkeby.infura.io"),c=new r.eth.Contract($e,n),e.next=5,c.getPastEvents("Submission",{fromBlock:"4001171"});case 5:return s=e.sent,e.abrupt("return",s.map(function(e){for(var t=(e.returnValues.answers||"").replace("0x",""),n=[],r=0;r<a.length;r++){var c=2*r,s=parseInt(t.slice(c,c+2),16);n.push({title:a[r].title,answer:a[r].options[s],answerIndex:s})}return{answers:n,txHash:e.transactionHash,user:e.returnValues.user}}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var tt=function(e){return et.apply(this,arguments)};function nt(){return(nt=Object(_.a)(Z.a.mark(function e(t){var n,a,r,c,s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.answers,a=t.submit,r=Object.values(n).map(function(e){if(isNaN(e))throw Error("Answer index must be a number");if(e>255)throw Error("Max number of possible answers for questions is 255");return parseInt(e).toString(16).padStart(2,"0")}),c="0x"+r.join(""),console.log({answerBytes:c,submit:a}),"rinkeby"===a.to){e.next=11;break}return e.next=7,at({answerBytes:c,address:a.address});case 7:return s=e.sent,e.abrupt("return",(s||{}).result);case 11:throw Error("Unsupported submit method");case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(e){return rt.apply(this,arguments)}function rt(){return(rt=Object(_.a)(Z.a.mark(function e(t){var n,a,r,c,s,o,i,u;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return(u=Object(_.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){window.ethereum.sendAsync({method:"eth_sendTransaction",params:[o],from:window.ethereum.selectedAddress},function(n,a){n?t(n):e(a)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(){return u.apply(this,arguments)},n=t.answerBytes,a=t.address,window.ethereum){e.next=5;break}throw Error("You must have a recent version of metamask installed");case 5:return e.next=7,window.ethereum.enable();case 7:if((r=new b.a("https://rinkeby.infura.io")).utils.isAddress(window.ethereum.selectedAddress)){e.next=10;break}throw Error("Could not get address from window.ethereum.selectedAddress ".concat(window.ethereum.selectedAddress));case 10:if(r.utils.isAddress(a)){e.next=12;break}throw Error("Submit address is not valid: ".concat(a));case 12:return c=new r.eth.Contract($e,a),s=c.methods.submit(n).encodeABI(),o={to:a,from:window.ethereum.selectedAddress,data:s},e.next=17,i();case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ct=function(e){return nt.apply(this,arguments)},st=n(441),ot=n.n(st),it=n(443),ut=n.n(it),lt=n(442),mt=n.n(lt);var ft=function(e){var t=e.form,n=t.title,c=t.description,s=t.questions,o=t.submit,i=Object(a.useState)({}),u=Object(X.a)(i,2),l=u[0],m=u[1],f=Object(a.useState)(""),d=Object(X.a)(f,2),p=d[0],v=d[1],A=Object(a.useState)(!1),E=Object(X.a)(A,2),b=E[0],h=E[1],w=Object(a.useState)(""),O=Object(X.a)(w,2),j=O[0],g=O[1];function y(){return(y=Object(_.a)(Z.a.mark(function e(){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,ct({answers:l,submit:o});case 4:t=e.sent,v(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),g(e.t0.message),console.error("\xc8rror fetchingsubmitting answers: ".concat(e.t0.message));case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])}))).apply(this,arguments)}var P=function(e,t){if(!t||!e)return!1;for(var n=0;n<t.length;n++)if(!(n in e))return!1;return!0}(l,s);return p?r.a.createElement("div",null,r.a.createElement("h5",null,"Success!!"),r.a.createElement("p",null,"Answers submitted to"," ",r.a.createElement("a",{href:"https://rinkeby.etherscan.io/tx/".concat(p)},"rinkeby"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},n),r.a.createElement("p",{className:"description"},"ansdljnasljdnlasd",c)),s.map(function(e,t){var n=e.text,a=e.options;return r.a.createElement("div",{key:t,className:"form-question"},r.a.createElement("div",{className:"text"},n),r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(ot.a,{value:l[t],onChange:function(e){m(Object(R.a)({},l,Object(C.a)({},t,e.target.value)))}},a.map(function(e,t){return r.a.createElement(mt.a,{key:t,value:String(t),control:r.a.createElement(ut.a,{color:"primary"}),label:e,className:"form-option"})}))))}),r.a.createElement("div",{className:"submit"},b?r.a.createElement("h6",null,"Submitting..."):r.a.createElement("div",null,r.a.createElement(q.a,{variant:"contained",color:"primary",onClick:function(){return y.apply(this,arguments)},disabled:!P},"Submit"),r.a.createElement("p",{style:{opacity:.5,fontSize:"75%"}},"Submits to ",o.to," ",o.address),j&&r.a.createElement("h5",null,"Error: ",j))))},dt=n(444),pt=n.n(dt);var vt,At=function(e){var t=e.form,n=e.submissions,a=t.title,c=t.questions;if(!t||!n)return null;var s=function(e){return Object.keys(e.reduce(function(e,t){var n=t.user;return Object(R.a)({},e,Object(C.a)({},n,!0))},{}))}(n),o=function(e){var t=e.length,n=[];return e.forEach(function(e){e.answers.forEach(function(e,t){n[t]||(n[t]=[]);var a=e.answerIndex;n[t][a]=n[t][a]?n[t][a]+1:1})}),n.map(function(e){return e.map(function(e){return Math.round(100*e/t)})})}(n),i=n.length,u=s.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},a)),r.a.createElement("div",{className:"stats"},r.a.createElement("div",{className:"name"},"Total responses"),r.a.createElement("div",{className:"name"},"Unique responses"),r.a.createElement("div",{className:"stat"},i),r.a.createElement("div",{className:"stat"},u)),r.a.createElement("details",{className:"address-list"},r.a.createElement("summary",null,"Unique addresses list"),s.map(function(e){return r.a.createElement("div",{key:e},e)})),r.a.createElement("h3",null,"Results"),c.map(function(e,t){var n=e.text,a=e.options;return r.a.createElement("div",{key:t,className:"form-question"},r.a.createElement("div",{className:"text"},n),r.a.createElement("div",{className:"answers"},a.map(function(e,n){var a=(o[t][n]||0)+"%";return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("div",{className:"option"},r.a.createElement(pt.a,null),r.a.createElement("span",null,e)),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:a}},a)))})))}))},Et=n(445),bt=n.n(Et),ht=(n(1219),function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"text"},"Loading..."),r.a.createElement(bt.a,null))});n(1221);var wt=function(e){var t=e.match.params,n=t.hash,c=t.showResults,s=Object(a.useState)(null),o=Object(X.a)(s,2),i=o[0],u=o[1],l=Object(a.useState)(null),m=Object(X.a)(l,2),f=m[0],d=m[1],p=Object(a.useState)(!0),v=Object(X.a)(p,2),A=v[0],E=v[1],b=Object(a.useState)(""),h=Object(X.a)(b,2),O=h[0],j=h[1];return Object(a.useEffect)(function(){function e(){return(e=Object(_.a)(Z.a.mark(function e(){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,Ze(n);case 4:t=e.sent,u(t),console.log("Fetched form for ".concat(n),t),F(n,t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),j(e.t0.message),console.error("\xc8rror fetching form: ".concat(e.t0.stack));case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()},[n]),Object(a.useEffect)(function(){function e(){return(e=Object(_.a)(Z.a.mark(function e(){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,tt({address:i.submit.address,questions:i.questions});case 4:t=e.sent,d(t),console.log("Fetched submissions for ".concat(n),t),vt=n,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),j(e.t0.message),console.error("\xc8rror fetching submissions: ".concat(e.t0.stack));case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}))).apply(this,arguments)}i&&c&&vt!==n&&function(){e.apply(this,arguments)}()},[c,i]),r.a.createElement("div",{className:"site-width main-section"},r.a.createElement(Ee,{id:"form"},A?r.a.createElement(ht,null):i?c?r.a.createElement(At,{form:i,submissions:f}):r.a.createElement(ft,{form:i}):r.a.createElement("h5",null,"No form"),i&&(c?r.a.createElement(w,{to:"/".concat(n)},r.a.createElement(q.a,null,"Back to form")):r.a.createElement(w,{to:"/".concat(n,"/results")},r.a.createElement(q.a,null,"See Results"))),O&&r.a.createElement("h5",null,"Error: ",O)))},Ot=new b.a("https://rinkeby.infura.io");window.web3=Ot,console.log("Version: 1552176415442");var jt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={title:null,questions:null},e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement(N,null),r.a.createElement(v.a,null,r.a.createElement(A.a,{path:"/",exact:!0,component:Y}),r.a.createElement(A.a,{path:"/create",component:Le}),r.a.createElement(A.a,{path:"/:hash/:showResults?",component:wt}),r.a.createElement(A.a,{render:function(){return r.a.createElement("h1",null,"404 Route not found")}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(o.a,null,r.a.createElement(jt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},163:function(e){e.exports=[{constant:!1,inputs:[{name:"_answers",type:"bytes"}],name:"submit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"user",type:"address"},{indexed:!1,name:"answers",type:"bytes"}],name:"Submission",type:"event"}]},397:function(e,t){},426:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA38AAAGHCAMAAAA3NxvgAAAAY1BMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/fU//fU8AAAAAAAAAAAD/fU8AAAAAAAAAAAAAAAARCAUAAAAAAAAAAAD/fU//fU8AAAD/fU8AAAD/fU8AAAAAAAD/fU/1LA/oAAAAH3RSTlMA4hLBIXDxUKCxD92P6yyHX9Ix+gM8CX9Eu0eWmCKoNpgT0gAAEO9JREFUeNrs3duSm0gWQFGuQrglDQhAPYxGp///K6fCHodd5RJ5TxLV3tGvHbZJlgDEQVlGREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREQUsv/8o+5fbCYi/BHhj4jwR4Q/IsIfEf6ICH9E+CMi/BHhj4jwR4Q/IsIfEf6I8Ic/IvwR4Q9/RPgjwh8R4Y8If0SEPyL8ERH+iPBHRPgjwh8R4Y8If0SEPyL8EeEPf0T4I8If/ojwR5R2f9n1XtO3/6r7xrYm+tg/dnE0I8IfEf6ICH9E+CMi/BHhj4jwR4Q/IsIfEf6I8Ic/IvwR4Q9/RPgjwh/+iPBHhD/8EeGPCH9EhD8i/BER/ojwR0RR/X37yyVez0v4c/L3j0v4I/zhjwh/WVb7qeu6ZroUo/8Nt/anViFWqln5Axfbv6nZtgy0KX90TYnF9av7E68NeXmvp8Lnhlv745oQK9Wu/IFH27+p1aY81kvh/9+XF+nw6474C1B+7C7487MpH7XnY4SUcyr8pgF/ocrvzYw/Tx9njUcyIo9E+FVnwV/ADg8P+w3+RESG1htBEbklwW/uBX8StvPpgj9Pn2anqy9/Q5OCv4fgL/RO81a54M/XpmxGL/7kcNme303wF2OnEem7EX+eLgXr2Yc/2f4maCP4i7TTiOT2AvH34WuJbvTgT8pxW37XA/7i+RPpF/z5+jBrPPiT+5b6xiIX/MXcaUTaCn++rgMv7v6k3vLWZyn4i7zTyFCP+PO0KW+zs79h2s7fUfAXfacR6a/487UpJ1d/cq624lcL/rbYaWwOgfh70m109Cf9RjdBF8HfRjuNlAX+fG1K5wvqdpOboJcD/jbbaeQ84c/XEzGLoz85bcCv6AV/2+00MtT483YO6npDq4v/1UMp+Nt0p5H7iD9PHWc3f0P0adyT4G/jnUbaGX9bXU9/+GvGvgnaCf4232lM9hr8Kb6IcLuhNfRRp3GnAX8J7DQGew3+VI+jVS7+4k7jVmfBXwo7jT5A/CmfyK6c/EWcxp17wV8a/rQB4k99BCyc/Em0adxW8JfKTqP7GiD8eb4G/OR7xEjTuDfBXzr+NJ++wJ+/z7Jnf80407iN4C8lf3ojaPjT6eHkL8orCa8D/tLypzWChj/PT8LYfxQ69XPidiN//7br75f2pzOChj+9Gid/wadx51I29WfZtzGwv4Ov7B7Grl7I37ab8lA5+RuWsDvyUXbpLwt9/PPWWFyb+tib3jgYX8efx015sdiUug+yuPq1qhb8Bf79sfH7f0Vzz71et3xBfz+vmJaT0aY8OfkLOo27CP7i/f7fdNc/hVI+gP91/X2/aXg66wNcnPwFnMa9HPAX9fc35673ddr0tf0Zbcp8dvIXbBq3yAV/sX//tun9nIF+dX9Zli2lzzPQlf+/C3NhUgr+4v/+9NjpXb0MF/wpP8w0LwQnN39hXkl4F/xt8fvv43zS8lfiT30Wehp0NmU/OvkLMY07doK/TfxlWTZpfW43+NO4E6N1Pt+5+RP/07jTgL/N/GXFQ2eAbcafxiHw6OcWjLcHSbWq1u/f4i90teNzoPj7tSkH57tZSn+ep3FnxVEbf8GvApvB6VMbf7/dCFV/r3ouHP153ahjK/jb1l+WTQeXAyD+fr8IPLsfAJUPknp8JeFN8Le5Pw2A+Yg/rS5KgOfZ0Z/HadxO8JeAP8U9sPX7dvh7D/DgcjGt5c/bNO51wF8S/j599cD7L67w5+mzbMhHV39+/pljkQv+0vCnvgt6xZ+vk7rF2Z+Xady5F/yl4i872i4E/j6meqqodfcnHqZxH4K/dPzNipORw4w/TweWoXD35/5KwpvgLyF/yovxDn+6VYPL2aPmWJjjTdBG8JeUP9VpU4s/X1fTpQd/jtO4lwP+EvOnOAN9dta0G39jvJ/SGxVnoJUHf07TuIXuizPwF6/G6gR0R+8/m6JtysnhBFT7dRad/eeD7sAw/mJW2jx5vx9/EhFga38Cqv9qHut/zl3wl6C/9U/tw7h3fxEBXtflzD78WU/j1oK/FP0pDoDT7v1FBNhazzAYvNHQbhp3GfCXpr/G4sn9XfmLB3Cyvndi4E/1Vf6nVQZvTMRf1MbcfLH35S8ewN72AtDEn8U0bmH03m78Re1mfgG4M3/RANa2F4BG/ow3sXLiFn8bVq0uxuUV/MUCWAzm19IW/gbDbzVP8ur+xr9dGrf9y/fGnHbnLxbANsALBZyncTt5eX+77mZ8sbE/f5EArp6A3r35M5rGnQb8Jd3V+AbMDv3FAVhZ3oAx9WdgxOjWJ/62OHleey63fxV/cQCu3UzOPfrTnsade8Ff4q19BT+8jL8oAFcHXGeP/nSncR+Cv9RbvT9WvIy/GABr43vJtv70pnFvgr/ka0xfArNTf15fo/l5i90hy0KJ1k3QRvCX/vXf1XSn2as/OV8Cb8vKbnjIhslQKr+3uhzwt4MK051mt/6CAxwHq3smYpVqGrfIBX97yHSn2a+/4ABzqwc37fwppnHnUvC3i/Kv4y80wN7qeGXpb30a9y7420e94Yf2nv0FBljG9Lc6jVsL/vCXnr+wAFurB9BsqaxM4y4D/vaS6Yf2vv0FBWj3N7X293QatzoI/vCXpL+QACMf/57d1Cl6wR/+EvUXEGDc679nN0ENJ27xh7+o/sIB7KP7+2wa9yT4w1/C/oIBjPr937MH0TrBH/6S9hcI4Gg3M+Tk5Y+boNOAP/wl7i8MwIjPfz7dBOYTt/jDX3R/QQCuzj9Mofy9O7LOveAPf+n7CwHw5n/+T+spzt+2us7E7bnHH/629hcA4Op9f7v59+aoAerXNK7OxO0wtfjD3+b+/ANcu/SyfP9LozXH8PMmaKN3uoo//CXgzzfAy+qJpKU/vTm+H9O4V53Hzu4Z/vCXhD/PAEO8/7PRV6UvFX8rNSsV+PPqzy/A0nJaVrVBNc8q9c9U8ZfZrwb+PPrzCXD9pzSuDiuud1dF/04N/vCXiD+PAIP8/lGj/a2C1mMvTYY//KXkzxvAMcjv//3YoM7fqr9/BhV/+EvGny+Aqw+/WP/+7f83qOtTZT96ZPjDX2r+PAFcv/uxOK6441PVP47BM/7wl54/LwDXf/597fJPb4N2zvx+TSrhD38p+fMBcP3wV7qv+MmR32+TuvjDX1L+3AEu+iMKlhvU6a0S77+AxB/+0vLnClB1g7LysOKF003QW4Y//CXrzxGg4hvy0suKO7xVUNoRf/hL2J8TwOvgcPqpv0EXa37vX1KBP/wl588BoOrscyg8rbjtW+U/vKkef/hLz589QNWTlw9vK273qyoff6kFf/hL0J8tQOVRafK24na/KtZl+MNf+v7sACrHg3qPK27zq5qnDH/424M/G4DqJ8M6nytu/qvSf/5SNf7wl6Y/c4CT0sN59rrijdk/aPjzBdn4w1+q/kwBqvkpvnww36A3o3/P4ZLhD3+78WcGsFGPJSgPf8Yb9GHyz1ky/OFvR/5MAOocimrvK24yjVtn+MPfrvxpAyx0nojOZ/8rrj+Ne8zwh7+d+dMEuGh9FdCEWHHdadxyxh/+dudPB2Ch9yhKGWbF9aZx8yLDH/72508JcKz1TgGHS6AV15nGHa4Z/vC3R3/rAMdO9ymUW6gV15nGbTL84W+f/lYAFnUumtdf/RxsxdXTuLcMf/jbq78nAMflaPAmsmvAFVdN47YZ/r6cv75t28fxeDy9dbvd6re6rmuappneul6vVVUVb43p+/sEYNUdjd7DeQu64stge+jF36v6M3kw8XA45G/1fV++tQK33MbfL4BzcVm6W2s6elCOYVd8be7pXGX4w1/w+oD+XPlWoVf8+Vcgw5ThD39f2d8wBV/x8enSdRn+8Pel/dURVvzZNO4pwx/+vrS/e5QV/3waV3XhiT/8eapM1F87xlnxz6Zxe9XPJOMPf6/tr5xjrfifI1AH5TNv+MPfS/tTHoE8rvgf07hLhj/8fWV/ZvwcV/zjNK7GfR/84c/XdVaC/gz5ua74+5ugOn7wh7/X9VcWUVd8HH//9QmtC0/84e9l/bVz9BX/NY2ba9nHH/489UjN32ncYMV/TuMe9AYu8Ic/Tx3T8jd0m6z4z2lczf0Dfyn5WxvkvOHPpPy60Yr/uAmqOe+EP/y9pL+22GzFq7PII8PfDv2tjZTW+NM/96w3XPFxGvoZf3v0N+DPy9cOl21XvKsy/P2vvbvbTVuJAjA6OAaKBAjwDxJC4f3f8kSn7V1jIMB4zF7rvqKZmS/bGAIT7K++9wH19w+LeTud37j6K2g3uqEH7PR328sg1YR2XH8F7UY7+FHKW/3dcunZpVZ/+vuRwU9S7vV31X45sR3XX0m7MfTywybp79X16S90f/3Q7c+9/oZfclh1E/yNq7+CduN097sr9ff33S7Heoo7rr+SdmPw6d9cf99emp+7ie64/krajcEPdT7p75sLg66d7I7rr6DdGHz17/LP66u63h4Oh67rTsvlcvdlPp8fv6zX6/OvX79WXz4+PvZfZrPZZrFYvGF/szrpT3+PG/wW19nQv7xrAPRVVdWvCHes689nBqi/sP31i7tvvzzs7nBf8v0r6903ZtkD1F/Y/uaXu2+/5PeS7x/79otl6+wB6i9qf+3wWdsG7C+lOneA+ova3+7y46d/79tf9gmov6D99cMH7Ryzv+wTUH9B+zsOH69l1P4yT0D9xeyvHr7Bv+ij9pd5AuovZn+rB15ae/P+sk5A/YXsb3flaJ0C95d1AuovYn9Xrj4vszZ0fxknoP4C9tfvr5yrYwrdX8YJqL+A/X1eO1Z19P6yTUD9xetvffUvbFL0/rJNQP2F629+9Ux1+ss1AfUXrb/r+X0k/eWagPoL1t/x+oE66S/bBNRfqP7a82VS42/M/rJMQP1F6m/wz1kLfPY3cn8ZJqD+AvXX3XKcVkl/+Sag/sL01x+bG05Ss9Vfxgmovyj9dfubDtI66S/jBNRfjP7qzxuPUaW/nBNQfxH6q8/NbYeomL+7Laa/F09A/b1/f93nrfUVdvOljP5eOgH19+b9bY+zy802lf7yTkD9vXF/9e58R3yFvfOloP5eOAH1N5X+5ofbdafd8fyxudxpnfSXeQLqbyr9vd5Hr7/cE1B/+vv75K9O+ss9AfWnvz9vfOmS/rJPQP3p77dd0l/+Cag//f3vmPQ3wgTUn/4KvfVZWn8vmYD609+lnK9bKbu/F0xA/enva+Fb/Y0zAfWnv3KnX3H9PX0C6k9/66S/sSag/sL3N0/6G20C6i94f80y6W+8Cai/2P3NDkl/I05A/YXub1Ul/Y05AfUXuL9m3ib9jToB9Re3v/2h/BUpsr8nTkD9Re2vWfdJf2NPQP0F7W8Kw6/c/p42AfUXsr9N+c/8Cu+v3W6eEaD+AvbXrKuprEix/aX0lAD1F66/5lxPZ0UK7u8pAeovWH+LdT2lFSm5v2cEqL9Q/c3m1bRWpOj+nhCg/uL013ye2qmtSNn9PR6g/oL016x21QRXpPD+bg5wX+svbn+z87Ka5oqU3t+jE1B/b95fsz/v6umuSPH9PTgB9fem/TWz/eo8X9bttFek/P4em4D6K0n9LNWf93a2U1+RauiH/OlS9vn+j9cethrwks3rBx6wTwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADP9R8tVSF7N3KEkwAAAABJRU5ErkJggg=="},451:function(e,t,n){e.exports=n(1224)},456:function(e,t,n){},500:function(e,t){},502:function(e,t){},533:function(e,t){},534:function(e,t){},620:function(e,t,n){},688:function(e,t,n){},763:function(e,t,n){},782:function(e,t){},784:function(e,t){},795:function(e,t){},797:function(e,t){},826:function(e,t){},827:function(e,t){},842:function(e,t){},844:function(e,t){},870:function(e,t){}},[[451,1,2]]]);
//# sourceMappingURL=main.1f0a449f.chunk.js.map
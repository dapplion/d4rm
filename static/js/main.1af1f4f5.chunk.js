(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1011:function(e,t){},1289:function(e,t,n){},1291:function(e,t,n){},1294:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(37),o=n.n(s),c=n(1301),i=(n(488),n(450)),u=n(451),l=n(480),f=n(452),m=n(481),d=n(478),p=n.n(d),v=n(1303),b=n(1302),E=n(1299);function A(e){return a.a.createElement(E.a,Object.assign({},e,{className:"router-link"}))}var h=n(453),w=n.n(h),g=n(455),y=n.n(g),O=n(170),j=n.n(O),x=(n(491),function(){return a.a.createElement(w.a,{id:"nav",position:"static"},a.a.createElement(y.a,null,a.a.createElement(A,{to:"/"},a.a.createElement("img",{src:j.a,alt:"logo"}))))}),k=n(24),N=n(20),P=n(44),S="USER_FORMS",C="EDITED_FORM";function R(){var e=localStorage.getItem(S);if(!e)return[];try{return JSON.parse(e)}catch(t){return console.error("Error parsing user forms: ".concat(t.stack)),{}}}function T(e){try{var t=JSON.stringify(e);localStorage.setItem(S,t)}catch(n){console.error("Error storing userForm: ".concat(n.stack))}}function D(e,t){console.log("storing user form"),T(Object(k.a)({},R(),Object(P.a)({},e,{title:t.title,lastOpenned:Date.now()})))}function X(e){try{var t=JSON.stringify(e);localStorage.setItem(C,t)}catch(n){console.error("Error storing user edited form: ".concat(n.stack))}}var F=n(1300),B=n(456),I=n.n(B);F.a.addLocale(I.a);var H=new F.a,q=function(e){var t=H.format(e,"twitter");return t?t.includes(" ")?t:"".concat(t," ago"):"Just now"},U=n(34),V=n.n(U),z=n(76),M=n.n(z),L=n(457),W=n.n(L),G=n(458),K=n.n(G);n(559);function Q(e){var t=e.hash,n=e.title,r=e.lastOpenned;return a.a.createElement(A,{to:"/".concat(t)},a.a.createElement(M.a,{className:"form-preview"},a.a.createElement(W.a,{className:"miniature"}),a.a.createElement("div",{className:"formTitle"},n),a.a.createElement("div",{className:"bottom"},a.a.createElement("span",{className:"time"},"Openned ",q(r))," ",a.a.createElement(K.a,null))))}var J=function(){var e=Object(r.useState)([]),t=Object(N.a)(e,2),n=t[0],s=t[1];return Object(r.useEffect)(function(){var e=Object.entries(R()).map(function(e){var t=Object(N.a)(e,2),n=t[0],r=t[1];return Object(k.a)({},r,{hash:n})}).sort(function(e,t){return t.lastOpenned-e.lastOpenned});console.log("Got user forms",e),s(e)},[]),console.log(n),a.a.createElement("div",{id:"home"},a.a.createElement("section",null,a.a.createElement("div",{className:"site-width"},a.a.createElement("div",{className:"title"},"Decentralized forms, for decentralized projects"),a.a.createElement("p",null,"Finally a way to collect feedback in a decentralized way"),a.a.createElement(A,{to:"/create"},a.a.createElement(V.a,{variant:"contained",color:"primary"},"Start a new form")),Boolean(n.length)&&a.a.createElement("div",{className:"recent-forms"},a.a.createElement("div",{className:"sub-title"},"Recent forms"),a.a.createElement("div",{className:"user-forms"},n.map(function(e){var t=e.hash,n=e.title,r=e.lastOpenned;return a.a.createElement(Q,Object.assign({key:t},{hash:t,title:n,lastOpenned:r}))}))))),a.a.createElement("section",null,a.a.createElement("div",{className:"site-width"},a.a.createElement("div",{className:"title"},"Show the world that you believe in Web3"),a.a.createElement("p",null,"Stop relying on google's tools to do the marketing of your decentralized project. Embrace the Web3 concept on corner of your DApp user experience."),a.a.createElement("p",null,a.a.createElement("a",{href:"https://github.com/dapplion/d4rm",style:{textDecoration:"none"}},"Show me the source code")))))},Y=n(15),Z=n.n(Y),_=n(29),$=n(189),ee=$.object({id:$.string().allow(""),to:$.string().valid("smartContract").required(),network:$.string().required(),address:$.string().required()});var te=n(189),ne=te.object({title:te.string().required(),description:te.string().allow("").required(),questions:te.array().items(te.object({text:te.string().required(),options:te.array().items(te.string().allow("").required()).required()}).required()).required()});var re=n(459),ae=n.n(re),se=n(111);function oe(e,t,n){var r,a=e.length-1;return t<0||n<0||t>a||n>a||t===n?e:Object.assign([],e,(r={},Object(P.a)(r,t,e[n]),Object(P.a)(r,n,e[t]),r))}function ce(e,t){return t<0||t>e.length-1?e:[].concat(Object(se.a)(e.slice(0,t)),Object(se.a)(e.slice(t+1)))}function ie(e,t,n){for(var r={},a=function(){var e=o[s],a=(c=Object(N.a)(e,2))[0],i=c[1];if(!t[a])throw Error("No type defined for action key: ".concat(a));r[a]=function(){return n(Object(k.a)({type:t[a]},i.apply(void 0,arguments)))}},s=0,o=Object.entries(e);s<o.length;s++){var c;a()}return r}var ue={setTitle:"setTitle",setDescription:"setDescription",addQuestion:"addQuestion",deleteQuestion:"deleteQuestion",addOption:"addOption",setText:"setText",setOption:"setOption",moveOptionUp:"moveOptionUp",moveOptionDown:"moveOptionDown",deleteOption:"deleteOption"},le={setTitle:function(e){return{title:e}},setDescription:function(e){return{description:e}},addQuestion:function(){},deleteQuestion:function(e){return{i:e}},addOption:function(e){return{i:e}},setText:function(e,t){return{i:e,text:t}},setOption:function(e,t,n){return{i:e,j:t,text:n}},moveOptionUp:function(e,t){return{i:e,j:t}},moveOptionDown:function(e,t){return{i:e,j:t}},deleteOption:function(e,t){return{i:e,j:t}}},fe=function(e){return ie(le,ue,e)};function me(e,t){var n,r,a,s=function(t){return Object(k.a)({},e,{questions:t(e.questions)})},o=function(e,t){return s(function(n){return Object.assign([],n,Object(P.a)({},e,Object(k.a)({},n[e],t(n[e]))))})};switch(t.type){case ue.setTitle:return Object(k.a)({},e,{title:t.title});case ue.setDescription:return Object(k.a)({},e,{description:t.description});case ue.addQuestion:return s(function(e){return[].concat(Object(se.a)(e),[{text:"",options:[]}])});case ue.deleteQuestion:return s(function(e){return ce(e,t.i)});case ue.addOption:return o(t.i,function(e){return{options:[].concat(Object(se.a)(e.options),[""])}});case ue.setText:return o(t.i,function(){return{text:t.text}});case ue.setOption:return n=t.i,r=t.j,a=t.text,o(n,function(e){return{options:Object.assign([],e.options,Object(P.a)({},r,a))}});case ue.moveOptionUp:return o(t.i,function(e){return{options:oe(e.options,t.j,t.j-1)}});case ue.moveOptionDown:return o(t.i,function(e){return{options:oe(e.options,t.j,t.j+1)}});case ue.deleteOption:return o(t.i,function(e){return{options:ce(e.options,t.j)}});default:throw new Error("Unknown action")}}var de=n(482),pe=n(460),ve=n.n(pe);function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t){13===(t.charCode?t.charCode:t.keyCode?t.keyCode:0)&&e.apply(void 0,n)}}function Ee(e){var t=e.value,n=e.onValueChange,r=e.onEnterPress,s=Object(de.a)(e,["value","onValueChange","onEnterPress"]);return a.a.createElement(ve.a,Object.assign({value:t,onChange:function(e){return n(e.target.value)},onKeyPress:be(r),margin:"normal",fullWidth:!0,autoFocus:!0},s))}Ee.defaultProps={onEnterPress:function(){}};var Ae=Ee,he=n(463),we=n.n(he),ge=n(461),ye=n.n(ge),Oe=n(462),je=n.n(Oe),xe=n(247),ke=n.n(xe);function Ne(e){var t=e.value,n=e.onValueChange,r=e.onEnterPress,s=e.onUp,o=e.onDown,c=e.onDelete;return a.a.createElement("div",{className:"option-row"},a.a.createElement("span",{className:"arrows"},a.a.createElement(ye.a,{onClick:s}),a.a.createElement(je.a,{onClick:o})),a.a.createElement("span",null,a.a.createElement(ke.a,{className:"circle"})),a.a.createElement("span",{className:"text"},a.a.createElement(Ae,{value:t,onValueChange:n,onEnterPress:r,margin:"none",className:"option-row-input"})),a.a.createElement("span",{className:"delete"},a.a.createElement(we.a,{onClick:c})))}function Pe(e){var t=e.onAdd;return a.a.createElement("div",{className:"option-row add-option"},a.a.createElement("span",{className:"arrows"}),a.a.createElement("span",null,a.a.createElement(ke.a,{className:"circle"})),a.a.createElement("span",{className:"text",onClick:t},a.a.createElement(V.a,null,"Add option")),a.a.createElement("span",{className:"delete"}))}function Se(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"paper-section-topline"}),a.a.createElement(M.a,Object.assign({},e,{elevation:1,className:"paper-section ".concat(e.className)})))}Ne.defaultProps={onEnterPress:function(){}};var Ce=n(464),Re=n.n(Ce),Te=n(465),De=n.n(Te);var Xe=function(e){var t=e.initialForm,n=e.setForm,s=Object(r.useReducer)(me,t),o=Object(N.a)(s,2),c=o[0],i=o[1],u=c.title,l=c.description,f=c.questions,m=Object(r.useMemo)(function(){return fe(i)},[]),d=m.setTitle,p=m.setDescription,v=m.addQuestion,b=m.deleteQuestion,E=m.addOption,A=m.setText,h=m.setOption,w=m.moveOptionUp,g=m.moveOptionDown,y=m.deleteOption;return Object(r.useEffect)(function(){n(c)},[c]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,null,a.a.createElement("div",{className:"header"},a.a.createElement(Ae,{label:"Form title",value:u,onValueChange:d,InputProps:{style:{fontSize:"2.5rem"}}}),a.a.createElement(Ae,{label:"Form description",value:l,onValueChange:p,multiline:!0}))),f.map(function(e,t){var n=e.text,r=e.options;return a.a.createElement(Se,{key:t,className:"question"},a.a.createElement("div",{className:"header"},a.a.createElement(Ae,{label:"".concat(t+1,". Question text"),value:n,onValueChange:function(e){return A(t,e)},onEnterPress:function(){return E(t)},margin:"none"}),a.a.createElement(Re.a,{onClick:function(){return b(t)}})),a.a.createElement("div",{className:"options"},r.map(function(e,n){return a.a.createElement(Ne,{key:n,value:e,onValueChange:function(e){return h(t,n,e)},onUp:function(){return w(t,n)},onDown:function(){return g(t,n)},onDelete:function(){return y(t,n)},onEnterPress:function(){return n===r.length-1?E(t):null}})}),a.a.createElement(Pe,{onAdd:function(){return E(t)}})))}),a.a.createElement(Se,{className:"add-question",onClick:v},a.a.createElement(De.a,{className:"button-svg"}),"Add question",a.a.createElement("div",{id:"gradient"})))},Fe={setId:"setId",setTo:"setTo",setNetwork:"setNetwork",setAddress:"setAddress"},Be={setId:function(e){return{id:e}},setTo:function(e){return{to:e}},setNetwork:function(e){return{network:e}},setAddress:function(e){return{address:e}}},Ie=function(e){return ie(Be,Fe,e)};function He(e,t){switch(t.type){case Fe.setId:return Object(k.a)({},e,{id:t.id});case Fe.setTo:return Object(k.a)({},e,{to:t.to});case Fe.setNetwork:return Object(k.a)({},e,{network:t.network});case Fe.setAddress:return Object(k.a)({},e,{address:t.address});default:throw new Error("Unknown action")}}var qe=n(109),Ue=n.n(qe),Ve=n(171),ze=n.n(Ve),Me=n(172),Le=n.n(Me),We=n(248),Ge=n.n(We);function Ke(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/^[a-z]|[A-Z]/g,function(e,t){return 0===t?e.toUpperCase():" "+e.toLowerCase()})}var Qe={rel:"noopener noreferrer",target:"_blank"};function Je(e,t){return"https://".concat(e,".etherscan.io/address/").concat(t)}function Ye(e,t){return"https://".concat(e,".etherscan.io/tx/").concat(t)}var Ze=[{name:"Generic smart contract (default)",description:"Submissions will be directed to a generic form submission smart contract already deployed, which can handle multiple surveys at once. This is the default method for non-technical users, and since the contract is already deployed, publishing the form will be free.",value:"smartContract",id:"genericSmartContract"}],_e={ropsten:"0x24C273e60D9e3C68662DDC769Afcd23Ad67EfF68",kovan:"0x24C273e60D9e3C68662DDC769Afcd23Ad67EfF68",rinkeby:"0x24C273e60D9e3C68662DDC769Afcd23Ad67EfF68",goerli:"0x24C273e60D9e3C68662DDC769Afcd23Ad67EfF68"},$e=Object.keys(_e);function et(e){return Ze.find(function(t){return t.id===e})}var tt=function(e){var t=e.setSubmit,n=e.initialSubmit,s=Object(r.useReducer)(He,n),o=Object(N.a)(s,2),c=o[0],i=o[1],u=c.id,l=c.to,f=c.network,m=c.address,d=Object(r.useMemo)(function(){return Ie(i)},[]),p=d.setId,v=d.setTo,b=d.setNetwork,E=d.setAddress,A=et(u);return Object(r.useEffect)(function(){t(c)},[c]),Object(r.useEffect)(function(){"genericSmartContract"===u&&E(_e[f])},[A,f]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,{className:"submit-mechanism"},a.a.createElement("div",{className:"title"},"Submission mechanism"),a.a.createElement("p",null,"Specify how to aggregate user's answers."),a.a.createElement("div",null,a.a.createElement(Ue.a,{fullWidth:!0},a.a.createElement(ze.a,null,"Submit to"),a.a.createElement(Le.a,{value:u||"",onChange:function(e){var t=e.target.value;p(t),v((et(t)||{}).value)}},Ze.map(function(e,t){var n=e.name,r=e.id;return a.a.createElement(Ge.a,{key:t,value:r},n)})))),A&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,A.description),A.note&&a.a.createElement("p",{className:"alert"},a.a.createElement("strong",null,"Note: "),A.note)),"smartContract"===l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ue.a,{className:"select"},a.a.createElement(ze.a,{htmlFor:"age-simple"},"Choose network"),a.a.createElement(Le.a,{value:f||"",onChange:function(e){return b(e.target.value)}},$e.map(function(e){return a.a.createElement(Ge.a,{key:e,value:e},Ke(e))}))),m&&a.a.createElement("p",{className:"at-address"},"At address"," ",a.a.createElement("a",Object.assign({href:Je(f,m)},Qe),m)))))},nt=n(466),rt=n.n(nt),at=n(468),st=n.n(at),ot=n(467),ct=n.n(ot);function it(e){var t=e.title,n=e.description,r=e.questions,s=e.answers,o=e.disabled,c=e.setAnswers;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"title"},t),a.a.createElement("p",{className:"description"},n)),r.map(function(e,t){var n=e.text,r=e.options;return a.a.createElement("div",{key:t,className:"form-question"},a.a.createElement("div",{className:"text"},n),a.a.createElement(Ue.a,{component:"fieldset"},a.a.createElement(rt.a,{value:s[t],onChange:function(e){c(Object(k.a)({},s,Object(P.a)({},t,e.target.value)))}},r.map(function(e,t){return a.a.createElement(ct.a,{key:t,value:String(t),control:a.a.createElement(st.a,{color:"primary"}),label:e,className:"form-option",disabled:o})}))))}))}it.defaultProps={answers:{},disabled:!1,setAnswers:function(){}};var ut=it;function lt(e){var t=e.submit;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h5",null,"Submissions"),a.a.createElement("p",null,"Submit to ",Ke(t.to)," at ",t.network," ",t.address))}var ft=n(469),mt=n.n(ft),dt=n(470),pt=n.n(dt),vt=n(471),bt=n.n(vt),Et=n(472),At=n.n(Et),ht=(n(745),{title:"",description:"",questions:[{text:"",options:[]}]}),wt={to:"",network:""};var gt=function(){var e=Object(r.useState)(ht),t=Object(N.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(wt),c=Object(N.a)(o,2),i=c[0],u=c[1],l=Object(r.useState)(n),f=Object(N.a)(l,2),m=f[0],d=f[1],p=Object(r.useState)(i),v=Object(N.a)(p,2),b=v[0],E=v[1],h=Object(r.useState)(!1),w=Object(N.a)(h,2),g=w[0],y=w[1],O=Object(r.useState)(""),j=Object(N.a)(O,2),x=j[0],P=j[1],S=Object(r.useState)(""),R=Object(N.a)(S,2),T=R[0],F=R[1],B=["Create form","Choose submimission","Publish"],I=ae()(X,1e3,[]),H=Object(N.a)(I,1)[0];function q(e){d(e),H(Object(k.a)({},e,{submit:b}))}function U(e){E(e),H(Object(k.a)({},m,{submit:e}))}function z(){return(z=Object(_.a)(Z.a.mark(function e(){var t,n;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),P(""),F(""),e.prev=3,t={title:m.title,description:m.description,questions:m.questions,submit:{to:b.to,network:b.network,address:b.address}},console.log("Uploading form object",t),e.next=8,window.add(t);case 8:n=e.sent,F(n),D(n,t),G(3),localStorage.removeItem(C),s(ht),u(wt),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("Error uploading formObj: ".concat(e.t0.stack)),P(e.t0.message);case 21:return e.prev=21,y(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[3,17,21,24]])}))).apply(this,arguments)}Object(r.useEffect)(function(){var e=function(){try{var e=localStorage.getItem(C);return e?JSON.parse(e):null}catch(t){console.error("Error getting user edited form: ".concat(t.stack))}}();e&&(s({title:e.title,description:e.description,questions:e.questions}),u(e.submit))},[]);var M=Object(r.useState)(0),L=Object(N.a)(M,2),W=L[0],G=L[1],K=0===W&&!function(e){return!te.validate(e,ne.required()).error}(m)||1===W&&!function(e){return!$.validate(e,ee.required()).error}(b);return a.a.createElement("div",{id:"create",className:"site-width main-section"},a.a.createElement("div",null,a.a.createElement(pt.a,{activeStep:W,alternativeLabel:!0},B.map(function(e){return a.a.createElement(bt.a,{key:e},a.a.createElement(At.a,null,e))})),function(e){switch(e){case 0:return a.a.createElement(Xe,{setForm:q,initialForm:n});case 1:return a.a.createElement(tt,{setSubmit:U,initialSubmit:i});case 2:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,{className:"submit-mechanism"},g?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Uploading..."),a.a.createElement(mt.a,null)):x?a.a.createElement("div",{style:{color:"red"}},"Error publishing: ",x):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"title"},"Review and confirm form"),a.a.createElement(Se,{style:{opacity:.75}},a.a.createElement(ut,Object(k.a)({},m,{disabled:!0})),a.a.createElement(lt,{submit:b})))));case 3:return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,null,a.a.createElement("p",null,"Form successfully uploaded"),a.a.createElement(A,{to:"/".concat(T)},a.a.createElement(V.a,{variant:"contained",color:"primary"},"View form"))));default:return"Unknown stepIndex"}}(W),a.a.createElement("div",{style:{marginTop:"2rem"}},W<B.length&&a.a.createElement(a.a.Fragment,null,a.a.createElement(V.a,{disabled:0===W,onClick:function(){return G(function(e){return e-1})}},"Back"),a.a.createElement(V.a,{variant:"contained",color:"primary",disabled:K,onClick:function(){2===W?function(){z.apply(this,arguments)}():G(function(e){return e+1})}},W===B.length-1?"Publish":"Next")))),a.a.createElement("div",{className:"mt-5"}))},yt=n(473),Ot="89b12e3b00cf40f5ae26cc72b3284a44";var jt=n.n(yt)()("ipfs.infura.io","5001",{protocol:"https"});function xt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(_.a)(Z.a.mark(function e(t){var n,r,a;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),r=jt.types.Buffer.from(n),e.next=4,jt.add(r);case 4:return a=e.sent,e.abrupt("return",a[0].hash);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(_.a)(Z.a.mark(function e(t){var n,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.cat(t);case 2:return n=e.sent,r=n.toString("utf8"),e.abrupt("return",JSON.parse(r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}window.ipfs=jt,window.add=xt,window.cat=Nt;var St={add:xt,cat:Nt,isHash:function(e){return jt.util.isIPFS.cid(e)}};function Ct(e){if(!e.title)throw Error("Invalid form: Must contain a title");if(!e.questions||!Array.isArray(e.questions))throw Error("Invalid form: Must contain questions");if(!e.submit)throw Error("Invalid form: Must contain submit specification");return e.questions=e.questions.map(function(e){var t=e.text,n=e.title,r=e.options,a=e.answers;return{text:t||n,options:r||a}}),e}function Rt(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(_.a)(Z.a.mark(function e(t){var n;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(St.isHash(t)){e.next=2;break}throw Error("Invalid IPFS hash: ".concat(t));case 2:return e.next=4,St.cat(t);case 4:return n=Ct(n=e.sent),e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Dt=64,Xt=1,Ft=Math.pow(16,Xt)-1;function Bt(e){if(!e)throw Error("answers must be defined");return"0x"+Object.values(e).map(function(e){if(isNaN(e))throw Error("Answer index must be a number");if(e>Ft)throw Error("Max number of possible answers for questions is ".concat(Ft));return parseInt(e).toString(16)}).join("").padEnd(Dt,"0")}function It(e,t){if(!e||"string"!==typeof e)throw Error("answersBytes32 must be a string");e=e.replace("0x","");for(var n=[],r=0;r<t.length;r++){var a=r*Xt,s=a+Xt,o=e.slice(a,s),c=parseInt(o,16);n.push({title:t[r].title,answer:t[r].options[c],answerIndex:c})}return n}var Ht=n(474),qt=n.n(Ht);function Ut(e){if(!e)throw Error("hash must be defined");return"0x"+new qt.a(e).multihash.slice(2,64).toString("hex").padStart(64,"0")}var Vt=n(110),zt=n.n(Vt),Mt=n(475),Lt={};function Wt(e,t){var n="".concat(e,"-").concat(t);if(!e)throw Error("network must be defined");if(!Lt[n])if(t)Lt[n]=new zt.a(window.ethereum);else{var r=function(e){return"https://".concat(e,".infura.io/v3/").concat(Ot)}(e);Lt[n]=new zt.a(r)}return Lt[n]}function Gt(e,t){if(!Qt(e))throw Error("address is not valid: ".concat(e));return Wt(t).eth.getBalance(e)}function Kt(e){var t=e.address,n=e.network,r=e.withMetamask;if(!Qt(t))throw Error("address is not valid: ".concat(t));return new(Wt(n,r).eth.Contract)(Mt,t)}function Qt(e){return zt.a.utils.isAddress(e)}function Jt(){return(Jt=Object(_.a)(Z.a.mark(function e(t){var n,r,a,s,o,c,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hash,r=t.network,a=t.address,s=t.questions,o=Ut(n),c=Kt({address:a,network:r}),e.next=5,c.getPastEvents("Submission",{filter:{surveyId:o},fromBlock:"0"});case 5:return i=e.sent,console.log("events at submission contract ".concat(r," ").concat(a),i),e.abrupt("return",i.map(function(e){return{answers:It(e.returnValues.answers||"",s),txHash:e.transactionHash,user:e.returnValues.user}}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Yt=function(e){return Jt.apply(this,arguments)},Zt=n(174),_t=n.n(Zt),$t=n(134),en=n.n($t),tn=n(173),nn=n.n(tn),rn="LOCAL_ACCOUNT";function an(){var e=localStorage.getItem(rn),t=e?JSON.parse(e):function(){var e=(new zt.a).eth.accounts.create(),t={address:e.address,privateKey:e.privateKey};return localStorage.setItem(rn,JSON.stringify(t)),t}();return Object(k.a)({},t,{isMetamask:!1})}var sn=window.ethereum;function on(){return cn.apply(this,arguments)}function cn(){return(cn=Object(_.a)(Z.a.mark(function e(){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sn.enable();case 3:return t=e.sent,e.abrupt("return",{address:t[0],isMetamask:!0});case 7:if(e.prev=7,e.t0=e.catch(0),"User rejected provider access"!==e.t0){e.next=13;break}throw Error("User rejected provider access");case 13:throw Error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}n(449);var un,ln=function(e){var t=e.open,n=e.onAccount,r=e.onClose,s="undefined"!==typeof sn?sn.isMetaMask&&sn.enable?{available:!0}:{available:!1,msg:"Metamask not installed"}:{available:!1,msg:"No Metamask detect"},o=localStorage.getItem(rn)?{available:!0}:{available:!1};function c(){return(c=Object(_.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n(an())}catch(t){console.log("Error getting local account: ".concat(t.stack))}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(){return(i=Object(_.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n(on())}catch(t){console.log("Error getting metamask account: ".concat(t.stack))}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(nn.a,Object.assign({id:"sign-in"},{open:t,onClose:r}),a.a.createElement(_t.a,{className:"title"},"Log in"),a.a.createElement(en.a,{className:"content"},a.a.createElement("img",{src:j.a,alt:"logo",className:"logo"}),a.a.createElement(V.a,{fullWidth:!0,variant:"contained",onClick:function(){return c.apply(this,arguments)}},o.available?"Use":"Create"," local account"),a.a.createElement("div",null,"OR"),a.a.createElement("div",null,a.a.createElement(V.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:!s.available,onClick:function(){return i.apply(this,arguments)}},"Continue with Metamask"),!s.available&&a.a.createElement("div",{className:"error"},s.msg))))};function fn(){un||(un=document.createElement("div"),document.body.appendChild(un));var e=function(){return Object(s.unmountComponentAtNode)(un)};return new Promise(function(t,n){Object(s.render)(a.a.createElement(ln,{open:!0,onAccount:function(n){e(),t(n)},onClose:function(){e(),n(Error("User closed the signIn window"))}}),un)})}window.signIn=fn;var mn={ropsten:function(){return"https://faucet.ropsten.be/"},kovan:function(){return"https://faucet.kovan.network/"},rinkeby:function(){return"https://faucet.rinkeby.io/"},goerli:function(e){return e?"https://goerli-faucet.slock.it/?address=".concat(e):"https://goerli-faucet.slock.it/"}};function dn(e,t){if(!mn[e])throw Error("Unsupported network: ".concat(e));return mn[e](t)}var pn,vn=function(e){var t=e.open,n=e.network,r=e.address,s=e.onClose,o=e.onDelegate,c=e.onFaucet;return a.a.createElement(nn.a,Object.assign({id:"sign-in"},{open:t,onClose:s}),a.a.createElement(_t.a,{className:"title"},"Not enough funds"),a.a.createElement(en.a,{style:{maxWidth:"18.5rem",fontSize:"0.875rem"}},a.a.createElement("strong",null,"Delegate")," to a relay that will pay the transaction costs, or",a.a.createElement("br",null),a.a.createElement("strong",null,"Get funds")," for free from a public faucet"),a.a.createElement(en.a,{className:"content"},a.a.createElement(V.a,{fullWidth:!0,variant:"contained",onClick:o},"Delegate"),a.a.createElement("div",null,"OR"),a.a.createElement("a",Object.assign({href:dn(n,r)},Qe,{style:{width:"100%"}}),a.a.createElement(V.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:c},"Get funds"))))};function bn(e){var t=e.network,n=e.address;pn||(pn=document.createElement("div"),document.body.appendChild(pn));var r=function(){return Object(s.unmountComponentAtNode)(pn)};return new Promise(function(e,o){Object(s.render)(a.a.createElement(vn,Object.assign({open:!0},{network:t,address:n},{onDelegate:function(){r(),e(!0)},onFaucet:function(){r(),o(Error("Awaiting user to get funds at the faucet"))},onClose:function(){r(),o(Error("User closed the dialog window"))}})),pn)})}var En=n(175),An=n.n(En),hn=n(108);function wn(e){return[{type:"bytes32",name:"Survey ID",value:e.surveyId},{type:"bytes32",name:"Answers",value:e.answersBytes}]}function gn(e){return yn.apply(this,arguments)}function yn(){return(yn=Object(_.a)(Z.a.mark(function e(t){var n,r,a,s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.privateKey,r=t.surveyId,a=t.answersBytes,s=An.a.signTypedData(Object(hn.toBuffer)(n),{data:wn({surveyId:r,answersBytes:a})}),e.abrupt("return",s);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function On(e){var t=e.address,n=e.surveyId,r=e.answersBytes;return new Promise(function(e,a){var s=wn({surveyId:n,answersBytes:r}),o=t;window.ethereum.sendAsync({method:"eth_signTypedData",params:[s,o],from:o},function(t,n){t?a(Error(t.message||t)):n.error?a(Error(n.error.message)):e(n.result)})})}function jn(e){var t=e.sig,n=e.surveyId,r=e.answersBytes,a=e.address;if(function(e){var t=e.sig,n=e.surveyId,r=e.answersBytes,a=Object(En.recoverTypedSignature)({data:wn({surveyId:n,answersBytes:r}),sig:t});return Object(hn.toChecksumAddress)(a)}({sig:t,surveyId:n,answersBytes:r}).toLowerCase()!==a.toLowerCase())throw Error("Signature is not correct")}var xn="https://d4rm.tk:8080";function kn(e){var t=e.sig,n=e.userAddress,r=e.contractAddress,a=e.surveyId,s=e.answersBytes,o=function(e,t){var n=new URL(e);return n.pathname="/submit/",Object.entries(t).forEach(function(e){var t=Object(N.a)(e,2),r=t[0],a=t[1];n.searchParams.set(r,a)}),n.toString()}(xn,{sig:t,userAddress:n,contractAddress:r,surveyId:a,answersBytes:s});return console.log("Submitting to relay: ".concat(o)),fetch(o).then(function(e){return e.text()}).then(function(e){return console.log("Relay response: ".concat(e)),e})}function Nn(e){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(_.a)(Z.a.mark(function e(t){var n,r,a,s,o,c,i,u,l;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.answers,r=t.submit,a=t.hash,s=r.network,console.log("Submitting answers",{answers:n,submit:r}),e.next=5,fn();case 5:if(o=e.sent,console.log("Submitting answers: Got account",{account:o}),!o.isMetamask){e.next=20;break}return e.next=10,Gt(o.address,s);case 10:if("0"!==e.sent){e.next=17;break}return e.next=14,bn({network:s,address:o.address});case 14:c=e.sent,e.next=18;break;case 17:c=!1;case 18:e.next=21;break;case 20:c=!0;case 21:if(i=Bt(n),u=Ut(a),!c){e.next=29;break}return e.next=26,Sn({submit:r,account:o,surveyId:u,answersBytes:i});case 26:l=e.sent,e.next=32;break;case 29:return e.next=31,Rn({submit:r,network:s,account:o,surveyId:u,answersBytes:i});case 31:l=e.sent;case 32:return console.log("submitAnswers result",l),e.abrupt("return",l);case 34:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sn(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(_.a)(Z.a.mark(function e(t){var n,r,a,s,o,c,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.submit,r=t.account,a=t.surveyId,s=t.answersBytes,!r.isMetamask){e.next=7;break}return e.next=4,On({address:r.address,surveyId:a,answersBytes:s});case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,gn({privateKey:r.privateKey,surveyId:a,answersBytes:s});case 9:e.t0=e.sent;case 10:return jn({sig:o=e.t0,address:r.address,surveyId:a,answersBytes:s}),c={sig:o,userAddress:r.address,contractAddress:n.address,surveyId:a,answersBytes:s},e.next=15,kn(c);case 15:return i=e.sent,console.log("Successfully submitted to relay",i),e.abrupt("return",i);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rn(e){var t=e.submit,n=e.network,r=e.account,a=e.surveyId,s=e.answersBytes;console.log("Attempting directSubmit");var o=Kt({address:t.address,network:n,withMetamask:r.isMetamask});return new Promise(function(e,t){o.methods.submit(a,s).send({from:r.address},function(n,r){console.log("Direct submit response",n,r),n?t(Error(n.message||n)):e(r)})})}var Tn={ropsten:"https://faucet.ropsten.be/",kovan:"https://faucet.kovan.network/",rinkeby:"https://faucet.rinkeby.io/",goerli:"https://goerli-faucet.slock.it/"};var Dn=function(e){var t=e.form,n=e.hash,s=t.title,o=t.description,c=t.questions,i=t.submit,u=Object(r.useState)({}),l=Object(N.a)(u,2),f=l[0],m=l[1],d=Object(r.useState)(""),p=Object(N.a)(d,2),v=p[0],b=p[1],E=Object(r.useState)(!1),A=Object(N.a)(E,2),h=A[0],w=A[1],g=Object(r.useState)(""),y=Object(N.a)(g,2),O=y[0],j=y[1];function x(){return(x=Object(_.a)(Z.a.mark(function e(){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Nn({answers:f,submit:i,hash:n});case 4:t=e.sent,b(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),j(e.t0.message),console.error("\xc8rror onSubmit answers: ".concat(e.t0.stack));case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,8,12,15]])}))).apply(this,arguments)}var k=function(e,t){if(!t||!e)return!1;for(var n=0;n<t.length;n++)if(!(n in e))return!1;return!0}(f,c);return v?a.a.createElement("div",null,a.a.createElement("h5",null,"Success!"),a.a.createElement("p",null,"Answers submitted to"," ",a.a.createElement("a",{href:Ye(i.network,v)},i.network))):a.a.createElement(a.a.Fragment,null,a.a.createElement(ut,{title:s,description:o,questions:c,answers:f,setAnswers:m}),a.a.createElement("div",{className:"submit"},h?a.a.createElement("h6",null,"Submitting..."):a.a.createElement("div",null,a.a.createElement(V.a,{variant:"contained",color:"primary",onClick:function(){return x.apply(this,arguments)},disabled:!k},"Submit"),a.a.createElement("p",{style:{opacity:.5,fontSize:"75%"}},"Submits to ",i.to," at ",i.network," ",a.a.createElement("a",{href:Je(i.network,i.address)},i.address)),a.a.createElement("p",{style:{opacity:.5,fontSize:"75%"}},"Need funds? Go to the"," ",a.a.createElement("a",{href:Tn[i.network]},i.network," faucet"),". You need ~ 0.000025475 Ether to submit."),O&&a.a.createElement("p",{style:{color:"red"}},"Error: ",O))))},Xn=n(476),Fn=n.n(Xn);var Bn,In=function(e){var t=e.form,n=e.submissions,r=t.title,s=t.questions;if(!t||!n)return null;var o=function(e){return Object.keys(e.reduce(function(e,t){var n=t.user;return Object(k.a)({},e,Object(P.a)({},n,!0))},{}))}(n),c=function(e){var t=e.length,n=[];return e.forEach(function(e){e.answers.forEach(function(e,t){n[t]||(n[t]=[]);var r=e.answerIndex;n[t][r]=n[t][r]?n[t][r]+1:1})}),n.map(function(e){return e.map(function(e){return Math.round(100*e/t)})})}(n),i=n.length,u=o.length;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"title"},r)),a.a.createElement("div",{className:"stats"},a.a.createElement("div",{className:"name"},"Total responses"),a.a.createElement("div",{className:"name"},"Unique responses"),a.a.createElement("div",{className:"stat"},i),a.a.createElement("div",{className:"stat"},u)),a.a.createElement("details",{className:"address-list"},a.a.createElement("summary",null,"Unique addresses list"),o.map(function(e){return a.a.createElement("div",{key:e},e)})),a.a.createElement("h3",null,"Results"),s.map(function(e,t){var n=e.text,r=e.options;return a.a.createElement("div",{key:t,className:"form-question"},a.a.createElement("div",{className:"text"},n),a.a.createElement("div",{className:"answers"},r.map(function(e,n){var r=((c[t]||[])[n]||0)+"%";return a.a.createElement(a.a.Fragment,{key:n},a.a.createElement("div",{className:"option"},a.a.createElement(Fn.a,null),a.a.createElement("span",null,e)),a.a.createElement("div",{className:"progress"},a.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:r}},r)))})))}))},Hn=n(477),qn=n.n(Hn),Un=(n(1289),function(){return a.a.createElement("div",{className:"loading"},a.a.createElement("div",{className:"text"},"Loading..."),a.a.createElement(qn.a,null))});n(1291);var Vn=function(e){var t=e.match.params,n=t.hash,s=t.showResults,o=Object(r.useState)(null),c=Object(N.a)(o,2),i=c[0],u=c[1],l=Object(r.useState)(null),f=Object(N.a)(l,2),m=f[0],d=f[1],p=Object(r.useState)(!0),v=Object(N.a)(p,2),b=v[0],E=v[1],h=Object(r.useState)(""),w=Object(N.a)(h,2),g=w[0],y=w[1];return Object(r.useEffect)(function(){function e(){return(e=Object(_.a)(Z.a.mark(function e(){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,Rt(n);case 4:t=e.sent,u(t),console.log("Fetched form for ".concat(n),t),D(n,t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),y(e.t0.message),console.error("\xc8rror fetching form: ".concat(e.t0.stack));case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()},[n]),Object(r.useEffect)(function(){function e(){return(e=Object(_.a)(Z.a.mark(function e(){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,Yt({hash:n,network:i.submit.network,address:i.submit.address,questions:i.questions});case 4:t=e.sent,d(t),console.log("Fetched submissions for ".concat(n),t),Bn=n,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),y(e.t0.message),console.error("\xc8rror fetching submissions: ".concat(e.t0.stack));case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}))).apply(this,arguments)}i&&s&&Bn!==n&&function(){e.apply(this,arguments)}()},[s,i]),a.a.createElement("div",{className:"site-width main-section"},a.a.createElement(Se,{id:"form"},b?a.a.createElement(Un,null):i?s?a.a.createElement(In,{form:i,submissions:m}):a.a.createElement(Dn,{form:i,hash:n}):a.a.createElement("h5",null,"No form"),i&&(s?a.a.createElement(A,{to:"/".concat(n)},a.a.createElement(V.a,null,"Back to form")):a.a.createElement(A,{to:"/".concat(n,"/results")},a.a.createElement(V.a,null,"See Results"))),g&&a.a.createElement("h5",null,"Error: ",g)))},zn=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(f.a)(t).call(this))).state={title:null,questions:null},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,null),a.a.createElement(x,null),a.a.createElement(v.a,null,a.a.createElement(b.a,{path:"/",exact:!0,component:J}),a.a.createElement(b.a,{path:"/create/:publish?",component:gt}),a.a.createElement(b.a,{path:"/:hash/:showResults?",component:Vn}),a.a.createElement(b.a,{render:function(){return a.a.createElement("h1",null,"404 Route not found")}})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(c.a,null,a.a.createElement(zn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},170:function(e,t){e.exports="data:image/png;base64,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"},175:function(e,t,n){var r=n(108),a=n(1287);function s(e){var t=new Error("Expect argument to be non-empty array");if("object"!==typeof e||!e.length)throw t;var n=e.map(function(e){return"bytes"===e.type?r.toBuffer(e.value):e.value}),s=e.map(function(e){return e.type}),o=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return a.soliditySHA3(["bytes32","bytes32"],[a.soliditySHA3(new Array(e.length).fill("string"),o),a.soliditySHA3(s,n)])}function o(e,t){var n=r.toBuffer(t),a=r.fromRpcSig(n);return r.ecrecover(e,a.v,a.r,a.s)}function c(e){var t=r.toBuffer(e.data);return o(r.hashPersonalMessage(t),e.sig)}function i(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}e.exports={concatSig:function(e,t,n){var a=r.fromSigned(t),s=r.fromSigned(n),o=r.bufferToInt(e),c=i(r.toUnsigned(a).toString("hex"),64),u=i(r.toUnsigned(s).toString("hex"),64),l=r.stripHexPrefix(r.intToHex(o));return r.addHexPrefix(c.concat(u,l)).toString("hex")},normalize:function(e){if(e){if("number"===typeof e){var t=r.toBuffer(e);e=r.bufferToHex(t)}if("string"!==typeof e){var n="eth-sig-util.normalize() requires hex string or integer input.";throw new Error(n+=" received "+typeof e+": "+e)}return r.addHexPrefix(e.toLowerCase())}},personalSign:function(e,t){var n=r.toBuffer(t.data),a=r.hashPersonalMessage(n),s=r.ecsign(a,e);return r.bufferToHex(this.concatSig(s.v,s.r,s.s))},recoverPersonalSignature:function(e){var t=c(e),n=r.publicToAddress(t);return r.bufferToHex(n)},extractPublicKey:function(e){return"0x"+c(e).toString("hex")},typedSignatureHash:function(e){var t=s(e);return r.bufferToHex(t)},signTypedData:function(e,t){var n=s(t.data),a=r.ecsign(n,e);return r.bufferToHex(this.concatSig(a.v,a.r,a.s))},recoverTypedSignature:function(e){var t=o(s(e.data),e.sig),n=r.publicToAddress(t);return r.bufferToHex(n)}}},399:function(e,t){},449:function(e,t,n){},475:function(e){e.exports=[{constant:!1,inputs:[{name:"surveyId",type:"bytes32"},{name:"_answers",type:"bytes32"}],name:"submit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"surveyId",type:"bytes32"},{indexed:!1,name:"user",type:"address"},{indexed:!1,name:"answers",type:"bytes32"}],name:"Submission",type:"event"}]},483:function(e,t,n){e.exports=n(1294)},488:function(e,t,n){},491:function(e,t,n){},559:function(e,t,n){},585:function(e,t){},587:function(e,t){},618:function(e,t){},619:function(e,t){},745:function(e,t,n){},768:function(e,t){},770:function(e,t){},781:function(e,t){},783:function(e,t){},811:function(e,t){},812:function(e,t){},826:function(e,t){},828:function(e,t){},854:function(e,t){}},[[483,1,2]]]);
//# sourceMappingURL=main.1af1f4f5.chunk.js.map
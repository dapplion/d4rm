{"version":3,"sources":["components/Link.jsx","components/Nav.jsx","services/userForms.js","utils/timeAgo.js","pages/home/Home.jsx","pages/create/isSubmitValid.js","pages/create/isFormValid.js","utils/arrays.js","utils/wrapActions.js","pages/create/FormEditor/redux.js","utils/onEnterKey.js","components/Input.jsx","pages/create/FormEditor/OptionRow.jsx","components/Section.jsx","pages/create/FormEditor/FormEditorRoot.jsx","pages/create/FormEditor/index.js","pages/create/SubmitEditor/redux.js","utils/fromCamelCase.js","utils/newTabProps.js","pages/create/SubmitEditor/SubmitEditorRoot.jsx","pages/create/SubmitEditor/index.js","pages/form/FormDisplay.jsx","pages/create/SubmitDisplay.jsx","pages/create/FormRoot.jsx","pages/create/index.js","services/ipfs.js","services/fetchForm.js","services/fetchSubmissions.js","services/submitAnswers.js","pages/form/Answer.jsx","utils/utils.js","pages/form/Results.jsx","pages/form/Form.jsx","components/Loading.jsx","App.jsx","serviceWorker.js","index.js","components/logo.png"],"names":["WrappedLink","props","react_default","a","createElement","Link","Object","assign","className","Nav","AppBar_default","id","position","Toolbar_default","to","src","logo","alt","USER_FORMS","EDITED_FORM","getUserForms","userFormsString","localStorage","getItem","JSON","parse","e","console","error","concat","stack","setUserForms","userForms","stringify","setItem","storeUserForm","hash","form","log","objectSpread","defineProperty","title","lastOpenned","Date","now","setEditedForm","formString","TimeAgo","addLocale","en","timeAgo","utils_timeAgo","timestamp","ago","format","includes","FormPreview","_ref","Paper_default","FormatListNumbered_default","OpenInNew_default","Home","_useState","useState","_useState2","slicedToArray","useEffect","_userForms","entries","map","_ref2","_ref3","sort","b","Button_default","variant","color","Boolean","length","_ref4","key","href","style","textDecoration","Joi","require","submitSchema","object","string","allow","valid","required","network","address","formSchema","description","questions","array","items","text","options","swapItems","x","y","_Object$assign","maxIdx","deleteItem","toConsumableArray","slice","wrapActions","actions","types","dispatch","wrappedActions","_loop","_Object$entries","_i","type","action","Error","apply","arguments","setTitle","setDescription","addQuestion","deleteQuestion","addOption","setText","setOption","moveOptionUp","moveOptionDown","deleteOption","i","j","mapDispatchToActions","reducer","option","updateQuestions","fn","updateQuestion","question","onEnterKey","_len","args","Array","_key","charCode","keyCode","Input","value","onValueChange","onEnterPress","objectWithoutProperties","TextField_default","onChange","target","onKeyPress","margin","fullWidth","autoFocus","defaultProps","OptionRow","onUp","onDown","onDelete","KeyboardArrowUp_default","onClick","KeyboardArrowDown_default","RadioButtonUnchecked_default","components_Input","Clear_default","AddOptionRow","onAdd","Section","Fragment","elevation","FormEditor","FormEditorRoot","initialForm","setForm","_useReducer","useReducer","_useReducer2","_useMemo","useMemo","label","InputProps","fontSize","multiline","Delete_default","Add_default","setId","setTo","setNetwork","setAddress","submit","fromCamelCase","undefined","replace","v","toUpperCase","toLowerCase","newTabProps","rel","submitOptions","name","preDeployedPublicContract","ropsten","kovan","rinkeby","goerli","availableNetworks","keys","getSubmitOptionById","_id","find","SubmitEditorRoot","setSubmit","initialSubmit","selectedSubmission","FormControl_default","InputLabel_default","Select_default","MenuItem_default","note","htmlFor","_network","FormDisplay","answers","disabled","setAnswers","component","RadioGroup_default","FormControlLabel_default","String","control","Radio_default","SubmitDisplay","emptyForm","emptySubmit","FormRoot","setInitialForm","_useState3","_useState4","setInitialSubmit","_useState5","_useState6","_setForm","_useState7","_useState8","_setSubmit","_useState9","_useState10","uploading","setUploading","_useState11","_useState12","setError","_useState13","_useState14","setHash","steps","_useDebouncedCallback","useDebouncedCallback","debouncedCallback","newForm","newSubmit","_publish","asyncToGenerator","regenerator_default","mark","_callee","formObj","_hash","wrap","_context","prev","next","window","add","sent","setActiveStep","removeItem","t0","message","finish","stop","this","userEditedForm","getEditedForm","_useState15","_useState16","activeStep","disableNext","validate","isFormValid","isSubmitValid","Stepper_default","alternativeLabel","Step_default","StepLabel_default","stepIndex","create_FormEditor","SubmitEditor","LinearProgress_default","opacity","form_FormDisplay","getStepContent","marginTop","s","publish","ipfs","ipfsClient","protocol","obj","content","results","Buffer","from","abrupt","cat","_callee2","_context2","toString","services_ipfs","isHash","util","isIPFS","cid","validateForm","isArray","fetchForm","_x","_fetchForm","hexCharactersPerAnswer","web3Local","submitContract","events","Web3","eth","Contract","sumbitContractAbi","getPastEvents","fromBlock","event","returnValues","parsedAnswers","stringPos","answerIndex","parseInt","push","answer","txHash","transactionHash","user","fetchSubmissions","hashToBytes32","CID","multihash","padStart","answerIds","answerBytes","result","values","isNaN","join","padEnd","submitToSmartContract","surveyId","_callee3","web3","data","transactionParameters","sendAsync","_sendAsync","_context3","Promise","resolve","reject","ethereum","method","params","selectedAddress","err","enable","utils","isAddress","methods","encodeABI","submitAnswers","Answer","setTxHash","submitting","setSubmitting","_onSubmit","submissionHash","answersFulfilled","areAnswersFulfilled","Results","cachedSubmissionsHash","submissions","uniqueAddresses","reduce","users","getUniqueAddresses","questionsResultsPercent","totalResponses","questionsResults","forEach","submission","count","Math","round","getQuestionResults","uniqueResponses","percent","Remove_default","role","width","Loading","CircularProgress_default","Form","_match$params","match","showResults","setSubmissions","loading","setLoading","_fetchFormEffect","_form","fetchFormEffect","_fetchSubmissionsEffect","_submissions","fetchSubmissionsEffect","components_Loading","form_Results","form_Answer","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","CssBaseline_default","components_Nav","Switch","Route","path","exact","Create","render","Component","location","hostname","ReactDOM","HashRouter","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.ec25bfcd.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function WrappedLink(props) {\n  return <Link {...props} className=\"router-link\" />;\n}\n","import React from \"react\";\n// Components\nimport Link from \"components/Link\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\n// Styles\nimport logo from \"./logo.png\";\nimport \"./nav.scss\";\n\nconst Nav = () => (\n  <AppBar id=\"nav\" position=\"static\">\n    <Toolbar>\n      <Link to=\"/\">\n        <img src={logo} alt=\"logo\" />\n      </Link>\n    </Toolbar>\n  </AppBar>\n);\n\nexport default Nav;\n","const USER_FORMS = \"USER_FORMS\";\nconst EDITED_FORM = \"EDITED_FORM\";\n\nexport function getUserForms() {\n  const userFormsString = localStorage.getItem(USER_FORMS);\n  if (!userFormsString) return [];\n  try {\n    return JSON.parse(userFormsString);\n  } catch (e) {\n    console.error(`Error parsing user forms: ${e.stack}`);\n    return {};\n  }\n}\n\nexport function setUserForms(userForms) {\n  try {\n    const userFormsString = JSON.stringify(userForms);\n    localStorage.setItem(USER_FORMS, userFormsString);\n  } catch (e) {\n    console.error(`Error storing userForm: ${e.stack}`);\n  }\n}\n\nexport function storeUserForm(hash, form) {\n  console.log(\"storing user form\");\n  setUserForms({\n    ...getUserForms(),\n    [hash]: {\n      title: form.title,\n      lastOpenned: Date.now()\n    }\n  });\n}\n\nexport function removeUserForm(hash) {\n  const userForms = getUserForms();\n  delete userForms[hash];\n  setUserForms(userForms);\n}\n\n// Edited form\n\nexport function getEditedForm() {\n  try {\n    const formString = localStorage.getItem(EDITED_FORM);\n    return formString ? JSON.parse(formString) : null;\n  } catch (e) {\n    console.error(`Error getting user edited form: ${e.stack}`);\n  }\n}\n\nexport function setEditedForm(form) {\n  try {\n    const formString = JSON.stringify(form);\n    localStorage.setItem(EDITED_FORM, formString);\n  } catch (e) {\n    console.error(`Error storing user edited form: ${e.stack}`);\n  }\n}\n\nexport function clearEditedForm() {\n  localStorage.removeItem(EDITED_FORM);\n}\n","import TimeAgo from \"javascript-time-ago\";\nimport en from \"javascript-time-ago/locale/en\";\n\nTimeAgo.addLocale(en);\n\nconst timeAgo = new TimeAgo();\n\nexport default timestamp => {\n  const ago = timeAgo.format(timestamp, \"twitter\");\n  if (!ago) return \"Just now\";\n  if (ago.includes(\" \")) return ago;\n  else return `${ago} ago`;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { getUserForms } from \"services/userForms\";\nimport timeAgo from \"utils/timeAgo\";\n// Components\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Link from \"components/Link\";\n// Styles\nimport FormatListNumbered from \"@material-ui/icons/FormatListNumbered\";\nimport OpenInNew from \"@material-ui/icons/OpenInNew\";\nimport \"./home.scss\";\n\nfunction FormPreview({ hash, title, lastOpenned }) {\n  return (\n    <Link to={`/${hash}`}>\n      <Paper className=\"form-preview\">\n        <FormatListNumbered className=\"miniature\" />\n        <div className=\"formTitle\">{title}</div>\n        <div className=\"bottom\">\n          <span className=\"time\">Openned {timeAgo(lastOpenned)}</span>{\" \"}\n          {/* <Clear onClick={() => removeUserForm(hash)} /> */}\n          <OpenInNew />\n        </div>\n      </Paper>\n    </Link>\n  );\n}\n\nfunction Home() {\n  const [userForms, setUserForms] = useState([]);\n  useEffect(() => {\n    const _userForms = Object.entries(getUserForms())\n      .map(([hash, form]) => ({\n        ...form,\n        hash\n      }))\n      .sort((a, b) => b.lastOpenned - a.lastOpenned);\n    console.log(\"Got user forms\", _userForms);\n    setUserForms(_userForms);\n  }, []);\n\n  console.log(userForms);\n\n  return (\n    <div id=\"home\">\n      <section>\n        <div className=\"site-width\">\n          <div className=\"title\">\n            Decentralized forms, for decentralized projects\n          </div>\n          <p>Finally a way to collect feedback in a decentralized way</p>\n          <Link to=\"/create\">\n            <Button variant=\"contained\" color=\"primary\">\n              Start a new form\n            </Button>\n          </Link>\n\n          {Boolean(userForms.length) && (\n            <div className=\"recent-forms\">\n              <div className=\"sub-title\">Recent forms</div>\n              <div className=\"user-forms\">\n                {userForms.map(({ hash, title, lastOpenned }) => (\n                  <FormPreview key={hash} {...{ hash, title, lastOpenned }} />\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </section>\n\n      <section>\n        <div className=\"site-width\">\n          <div className=\"title\">Show the world that you believe in Web3</div>\n          <p>\n            Stop relying on google's tools to do the marketing of your\n            decentralized project. Embrace the Web3 concept on corner of your\n            DApp user experience.\n          </p>\n          <p>\n            <a\n              href=\"https://github.com/dapplion/d4rm\"\n              style={{ textDecoration: \"none\" }}\n            >\n              Show me the source code\n            </a>\n          </p>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default Home;\n","const Joi = require(\"joi\");\n\nconst submitSchema = Joi.object({\n  id: Joi.string().allow(\"\"),\n  to: Joi.string()\n    .valid(\"smartContract\")\n    .required(),\n  network: Joi.string().required(),\n  address: Joi.string().required()\n});\n\nexport default function isSubmitValid(submit) {\n  const result = Joi.validate(submit, submitSchema.required());\n  return !result.error;\n}\n","const Joi = require(\"joi\");\n\nconst formSchema = Joi.object({\n  title: Joi.string().required(),\n  description: Joi.string()\n    .allow(\"\")\n    .required(),\n  questions: Joi.array()\n    .items(\n      Joi.object({\n        text: Joi.string().required(),\n        options: Joi.array()\n          .items(\n            Joi.string()\n              .allow(\"\")\n              .required()\n          )\n          .required()\n      }).required()\n    )\n    .required()\n});\n\nexport default function isFormValid(form) {\n  const result = Joi.validate(form, formSchema.required());\n  return !result.error;\n}\n","/**\n * Swaps index x with index y\n * [NOTE] Tolerates ilegal indexes. In that case returns the original array\n * @param {array} array\n * @param {number} x first index to swap\n * @param {number} y second index to swap\n * @returns {array}\n */\nexport function swapItems(array, x, y) {\n  const minIdx = 0;\n  const maxIdx = array.length - 1;\n  if (x < minIdx || y < minIdx || x > maxIdx || y > maxIdx || x === y)\n    return array;\n  return Object.assign([], array, {\n    [x]: array[y],\n    [y]: array[x]\n  });\n}\n\n/**\n * Deletes index x\n * [NOTE] Tolerates ilegal indexes. In that case returns the original array\n * @param {array} array\n * @param {number} x index to delete\n * @returns {array}\n */\nexport function deleteItem(array, x) {\n  if (x < 0 || x > array.length - 1) return array;\n  return [...array.slice(0, x), ...array.slice(x + 1)];\n}\n","export default function wrapActions(actions, types, dispatch) {\n  const wrappedActions = {};\n  for (const [type, action] of Object.entries(actions)) {\n    if (!types[type]) throw Error(`No type defined for action key: ${type}`);\n    wrappedActions[type] = (...args) =>\n      dispatch({ type: types[type], ...action(...args) });\n  }\n  return wrappedActions;\n}\n","import { swapItems, deleteItem } from \"utils/arrays\";\nimport wrapActions from \"utils/wrapActions\";\n\nconst types = {\n  setTitle: \"setTitle\",\n  setDescription: \"setDescription\",\n  addQuestion: \"addQuestion\",\n  deleteQuestion: \"deleteQuestion\",\n  addOption: \"addOption\",\n  setText: \"setText\",\n  setOption: \"setOption\",\n  moveOptionUp: \"moveOptionUp\",\n  moveOptionDown: \"moveOptionDown\",\n  deleteOption: \"deleteOption\"\n};\n\nconst actions = {\n  setTitle: title => ({ title }),\n  setDescription: description => ({ description }),\n  addQuestion: () => {},\n  deleteQuestion: i => ({ i }),\n  addOption: i => ({ i }),\n  setText: (i, text) => ({ i, text }),\n  setOption: (i, j, text) => ({ i, j, text }),\n  moveOptionUp: (i, j) => ({ i, j }),\n  moveOptionDown: (i, j) => ({ i, j }),\n  deleteOption: (i, j) => ({ i, j })\n};\n\nexport const mapDispatchToActions = dispatch =>\n  wrapActions(actions, types, dispatch);\n\nexport function reducer(form, action) {\n  /**\n   * Custom reducer helpers to isolate the logic\n   */\n  const updateQuestions = fn => ({\n    ...form,\n    questions: fn(form.questions)\n  });\n  const updateQuestion = (i, fn) =>\n    updateQuestions(questions =>\n      Object.assign([], questions, {\n        [i]: { ...questions[i], ...fn(questions[i]) }\n      })\n    );\n  const updateOption = (i, j, option) =>\n    updateQuestion(i, question => ({\n      options: Object.assign([], question.options, { [j]: option })\n    }));\n\n  /**\n   * Reducers are in the same order as types and actions\n   */\n  switch (action.type) {\n    case types.setTitle:\n      return { ...form, title: action.title };\n    case types.setDescription:\n      return { ...form, description: action.description };\n\n    case types.addQuestion:\n      return updateQuestions(questions => [\n        ...questions,\n        { text: \"\", options: [] }\n      ]);\n    case types.deleteQuestion:\n      return updateQuestions(questions => deleteItem(questions, action.i));\n\n    case types.addOption:\n      return updateQuestion(action.i, question => ({\n        options: [...question.options, \"\"]\n      }));\n    case types.setText:\n      return updateQuestion(action.i, () => ({ text: action.text }));\n    case types.setOption:\n      return updateOption(action.i, action.j, action.text);\n    case types.moveOptionUp:\n      return updateQuestion(action.i, question => ({\n        options: swapItems(question.options, action.j, action.j - 1)\n      }));\n    case types.moveOptionDown:\n      return updateQuestion(action.i, question => ({\n        options: swapItems(question.options, action.j, action.j + 1)\n      }));\n    case types.deleteOption:\n      return updateQuestion(action.i, question => ({\n        options: deleteItem(question.options, action.j)\n      }));\n    default:\n      throw new Error(\"Unknown action\");\n  }\n}\n","/**\n * To be used on html prop `onKeyDown`\n * onKeyDown={onEnterKey(method, arg1, arg2)}\n * @param {Function} fn\n * @param  {...any} args\n */\nexport default function onEnterKey(fn, ...args) {\n  return e => {\n    const key = e.charCode ? e.charCode : e.keyCode ? e.keyCode : 0;\n    if (key === 13) fn(...args);\n  };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport TextField from \"@material-ui/core/TextField\";\nimport onEnterKey from \"utils/onEnterKey\";\n\nfunction Input({ value, onValueChange, onEnterPress, ...props }) {\n  return (\n    <TextField\n      value={value}\n      onChange={e => onValueChange(e.target.value)}\n      onKeyPress={onEnterKey(onEnterPress)}\n      margin=\"normal\"\n      fullWidth={true}\n      autoFocus={true}\n      {...props}\n    />\n  );\n}\n\nInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  onValueChange: PropTypes.func.isRequired,\n  onEnterPress: PropTypes.func\n};\nInput.defaultProps = {\n  onEnterPress: () => {}\n};\n\nexport default Input;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n// Components\nimport Button from \"@material-ui/core/Button\";\nimport Input from \"components/Input\";\n// Icons\nimport Clear from \"@material-ui/icons/Clear\";\nimport KeyboardArrowUp from \"@material-ui/icons/KeyboardArrowUp\";\nimport KeyboardArrowDown from \"@material-ui/icons/KeyboardArrowDown\";\nimport RadioButtonUnchecked from \"@material-ui/icons/RadioButtonUnchecked\";\n\nexport function OptionRow({\n  value,\n  onValueChange,\n  onEnterPress,\n  onUp,\n  onDown,\n  onDelete\n}) {\n  return (\n    <div className=\"option-row\">\n      <span className=\"arrows\">\n        <KeyboardArrowUp onClick={onUp} />\n        <KeyboardArrowDown onClick={onDown} />\n      </span>\n      <span>\n        <RadioButtonUnchecked className=\"circle\" />\n      </span>\n      <span className=\"text\">\n        <Input\n          value={value}\n          onValueChange={onValueChange}\n          onEnterPress={onEnterPress}\n          margin=\"none\"\n          className=\"option-row-input\"\n        />\n      </span>\n      <span className=\"delete\">\n        <Clear onClick={onDelete} />\n      </span>\n    </div>\n  );\n}\n\nOptionRow.propTypes = {\n  value: PropTypes.string.isRequired,\n  onValueChange: PropTypes.func.isRequired,\n  onEnterPress: PropTypes.func,\n  onUp: PropTypes.func.isRequired,\n  onDown: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired\n};\nOptionRow.defaultProps = {\n  onEnterPress: () => {}\n};\n\nexport function AddOptionRow({ onAdd }) {\n  return (\n    <div className=\"option-row add-option\">\n      <span className=\"arrows\" />\n      <span>\n        <RadioButtonUnchecked className=\"circle\" />\n      </span>\n      <span className=\"text\" onClick={onAdd}>\n        <Button>Add option</Button>\n      </span>\n      <span className=\"delete\" />\n    </div>\n  );\n}\n\nAddOptionRow.propTypes = {\n  onAdd: PropTypes.func.isRequired\n};\n","import React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\n\nexport default function Section(props) {\n  return (\n    <>\n      <div className=\"paper-section-topline\" />\n      <Paper\n        {...props}\n        elevation={1}\n        className={`paper-section ${props.className}`}\n      />\n    </>\n  );\n}\n","import React, { useReducer, useMemo, useEffect } from \"react\";\n// Redux\nimport { reducer, mapDispatchToActions } from \"./redux\";\n// Components\nimport { OptionRow, AddOptionRow } from \"./OptionRow\";\nimport Input from \"components/Input\";\nimport Section from \"components/Section\";\n// Icons\nimport Delete from \"@material-ui/icons/Delete\";\nimport Add from \"@material-ui/icons/Add\";\n\nfunction FormEditor({ initialForm, setForm }) {\n  const [form, dispatch] = useReducer(reducer, initialForm);\n\n  const { title, description, questions } = form;\n\n  // Wrapping in useMemo to compute it only once\n  const {\n    setTitle,\n    setDescription,\n    addQuestion,\n    deleteQuestion,\n    addOption,\n    setText,\n    setOption,\n    moveOptionUp,\n    moveOptionDown,\n    deleteOption\n  } = useMemo(() => mapDispatchToActions(dispatch), []);\n\n  useEffect(() => {\n    // Forward formatted form to the parent component\n    setForm(form);\n  }, [form]);\n\n  return (\n    <>\n      <Section>\n        <div className=\"header\">\n          <Input\n            label=\"Form title\"\n            value={title}\n            onValueChange={setTitle}\n            InputProps={{ style: { fontSize: \"2.5rem\" } }}\n          />\n          <Input\n            label=\"Form description\"\n            value={description}\n            onValueChange={setDescription}\n            multiline={true}\n          />\n        </div>\n      </Section>\n\n      {questions.map(({ text, options }, i) => (\n        <Section key={i} className=\"question\">\n          <div className=\"header\">\n            <Input\n              label={`${i + 1}. Question text`}\n              value={text}\n              onValueChange={value => setText(i, value)}\n              onEnterPress={() => addOption(i)}\n              margin=\"none\"\n            />\n            <Delete onClick={() => deleteQuestion(i)} />\n          </div>\n\n          <div className=\"options\">\n            {options.map((option, j) => (\n              <OptionRow\n                key={j}\n                value={option}\n                onValueChange={value => setOption(i, j, value)}\n                onUp={() => moveOptionUp(i, j)}\n                onDown={() => moveOptionDown(i, j)}\n                onDelete={() => deleteOption(i, j)}\n                onEnterPress={() =>\n                  j === options.length - 1 ? addOption(i) : null\n                }\n              />\n            ))}\n            <AddOptionRow onAdd={() => addOption(i)} />\n          </div>\n        </Section>\n      ))}\n\n      <Section className=\"add-question\" onClick={addQuestion}>\n        <Add className=\"button-svg\" />\n        Add question\n        <div id=\"gradient\" />\n      </Section>\n    </>\n  );\n}\n\nexport default FormEditor;\n","import FormEditorRoot from \"./FormEditorRoot\";\n\nexport default FormEditorRoot;\n","import wrapActions from \"utils/wrapActions\";\n\nconst types = {\n  setId: \"setId\",\n  setTo: \"setTo\",\n  setNetwork: \"setNetwork\",\n  setAddress: \"setAddress\"\n};\n\nconst actions = {\n  setId: id => ({ id }),\n  setTo: to => ({ to }),\n  setNetwork: network => ({ network }),\n  setAddress: address => ({ address })\n};\n\nexport const mapDispatchToActions = dispatch =>\n  wrapActions(actions, types, dispatch);\n\nexport function reducer(submit, action) {\n  /**\n   * Reducers are in the same order as types and actions\n   */\n  switch (action.type) {\n    case types.setId:\n      return { ...submit, id: action.id };\n    case types.setTo:\n      return { ...submit, to: action.to };\n    case types.setNetwork:\n      return { ...submit, network: action.network };\n    case types.setAddress:\n      return { ...submit, address: action.address };\n\n    default:\n      throw new Error(\"Unknown action\");\n  }\n}\n","export default function fromCamelCase(s = \"\") {\n  return s.replace(/^[a-z]|[A-Z]/g, function(v, i) {\n    return i === 0 ? v.toUpperCase() : \" \" + v.toLowerCase();\n  });\n}\n","// Props to be passed to a JSX <a> element to open a new tab\n// The purpose of this utility is to centralize this props.\n// To disable the newTab openning for certain <a> from the whole project, edit this file\n//\n// It converts:\n//   <a href={url} rel=\"noopener noreferrer\" target=\"_blank\">\n// Into:\n//   <a href={url} {...newTabProps}>\n\nexport default { rel: \"noopener noreferrer\", target: \"_blank\" };\n","import React, { useReducer, useMemo, useEffect } from \"react\";\n// Redux\nimport { reducer, mapDispatchToActions } from \"./redux\";\n// Components\nimport Section from \"components/Section\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n// Icons\nimport fromCamelCase from \"utils/fromCamelCase\";\nimport newTabProps from \"utils/newTabProps\";\n\nconst submitOptions = [\n  {\n    name: \"Generic smart contract (default)\",\n    description:\n      \"Submissions will be directed to a generic form submission smart contract already deployed, which can handle multiple surveys at once. This is the default method for non-technical users, and since the contract is already deployed, publishing the form will be free.\",\n    value: \"smartContract\",\n    id: \"genericSmartContract\"\n  }\n  // {\n  //   name: \"New smart contract, specific to this form\",\n  //   description:\n  //     \"A new smart contract will be deployed when publishing the form. Submissions will be directed to it, and it should only serve this specific survey\",\n  //   note:\n  //     \"Only recommended for advanced users. You will have to deploy a contract and pay the transaction network's transaction fees\",\n  //   value: \"smartContract\",\n  //   id: \"newSmartContract\"\n  // }\n];\n\nconst preDeployedPublicContract = {\n  ropsten: \"0xA56678Bc585cdB7Fdcd24176401BDf8D24927505\",\n  kovan: \"0xA56678Bc585cdB7Fdcd24176401BDf8D24927505\",\n  rinkeby: \"0xA56678Bc585cdB7Fdcd24176401BDf8D24927505\",\n  goerli: \"0xA56678Bc585cdB7Fdcd24176401BDf8D24927505\"\n};\n\nconst availableNetworks = Object.keys(preDeployedPublicContract);\n\nfunction getSubmitOptionById(_id) {\n  return submitOptions.find(({ id }) => id === _id);\n}\n\nfunction getSubmitOptionValue(_id) {\n  return (getSubmitOptionById(_id) || {}).value;\n}\n\n// rinkeby demo contract \"0x77E91Ab5af418A6154637216d596d75eB8ecf70a\"\n\nfunction SubmitEditorRoot({ setSubmit, initialSubmit }) {\n  const [submit, dispatch] = useReducer(reducer, initialSubmit);\n\n  const { id, to, network, address } = submit;\n\n  // Wrapping in useMemo to compute it only once\n  const { setId, setTo, setNetwork, setAddress } = useMemo(\n    () => mapDispatchToActions(dispatch),\n    []\n  );\n\n  //   const invalidAddress = address && !isAddress(address);\n\n  const selectedSubmission = getSubmitOptionById(id);\n\n  useEffect(() => {\n    // Forward formatted submit object to the parent component\n    setSubmit(submit);\n  }, [submit]);\n\n  // Auto-select the predeployed address\n  useEffect(() => {\n    if (id === \"genericSmartContract\")\n      setAddress(preDeployedPublicContract[network]);\n  }, [selectedSubmission, network]);\n\n  return (\n    <>\n      <Section className=\"submit-mechanism\">\n        <div className=\"title\">Submission mechanism</div>\n        <p>Specify how to aggregate user's answers.</p>\n\n        <div>\n          <FormControl fullWidth={true}>\n            <InputLabel>Submit to</InputLabel>\n            <Select\n              value={id || \"\"}\n              onChange={e => {\n                const id = e.target.value;\n                setId(id);\n                setTo(getSubmitOptionValue(id));\n              }}\n            >\n              {submitOptions.map(({ name, id }, i) => (\n                <MenuItem key={i} value={id}>\n                  {name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n\n        {selectedSubmission && (\n          <>\n            <p>{selectedSubmission.description}</p>\n            {selectedSubmission.note && (\n              <p className=\"alert\">\n                <strong>Note: </strong>\n                {selectedSubmission.note}\n              </p>\n            )}\n          </>\n        )}\n\n        {to === \"smartContract\" && (\n          <>\n            <FormControl className=\"select\">\n              <InputLabel htmlFor=\"age-simple\">Choose network</InputLabel>\n              <Select\n                value={network || \"\"}\n                onChange={e => setNetwork(e.target.value)}\n              >\n                {availableNetworks.map(_network => (\n                  <MenuItem key={_network} value={_network}>\n                    {fromCamelCase(_network)}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {address && (\n              <p className=\"at-address\">\n                At address{\" \"}\n                <a\n                  href={`https://${network}.etherscan.io/address/${address}`}\n                  {...newTabProps}\n                >\n                  {address}\n                </a>\n              </p>\n            )}\n          </>\n        )}\n      </Section>\n    </>\n  );\n}\n\nexport default SubmitEditorRoot;\n","import SubmitEditorRoot from \"./SubmitEditorRoot\";\n\nexport default SubmitEditorRoot;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n// Components\nimport FormControl from \"@material-ui/core/FormControl\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Radio from \"@material-ui/core/Radio\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nfunction FormDisplay({\n  title,\n  description,\n  questions,\n  answers,\n  disabled,\n  setAnswers\n}) {\n  return (\n    <>\n      <div className=\"header\">\n        <div className=\"title\">{title}</div>\n        <p className=\"description\">{description}</p>\n      </div>\n\n      {questions.map(({ text, options }, i) => {\n        return (\n          <div key={i} className=\"form-question\">\n            <div className=\"text\">{text}</div>\n            <FormControl component=\"fieldset\">\n              <RadioGroup\n                value={answers[i]}\n                onChange={e => {\n                  setAnswers({ ...answers, [i]: e.target.value });\n                }}\n              >\n                {options.map((option, j) => (\n                  <FormControlLabel\n                    key={j}\n                    value={String(j)}\n                    control={<Radio color=\"primary\" />}\n                    label={option}\n                    className=\"form-option\"\n                    disabled={disabled}\n                  />\n                ))}\n              </RadioGroup>\n            </FormControl>\n          </div>\n        );\n      })}\n    </>\n  );\n}\n\nFormDisplay.propTypes = {\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  questions: PropTypes.arrayOf(\n    PropTypes.shape({\n      text: PropTypes.string.isRequired,\n      options: PropTypes.arrayOf(PropTypes.string)\n    })\n  ).isRequired,\n  answers: PropTypes.object,\n  disabled: PropTypes.bool,\n  setAnswers: PropTypes.func\n};\nFormDisplay.defaultProps = {\n  answers: {},\n  disabled: false,\n  setAnswers: () => {}\n};\n\nexport default FormDisplay;\n","import React from \"react\";\nimport fromCamelCase from \"utils/fromCamelCase\";\n\nexport default function SubmitDisplay({ submit }) {\n  return (\n    <>\n      <h5>Submissions</h5>\n      <p>\n        Submit to {fromCamelCase(submit.to)} at {submit.network}{\" \"}\n        {submit.address}\n      </p>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n  storeUserForm,\n  setEditedForm,\n  getEditedForm,\n  clearEditedForm\n} from \"services/userForms\";\nimport isSubmitValid from \"./isSubmitValid\";\nimport isFormValid from \"./isFormValid\";\nimport useDebouncedCallback from \"use-debounce/lib/callback\";\n// Components\nimport FormEditor from \"./FormEditor\";\nimport SubmitEditor from \"./SubmitEditor\";\nimport FormDisplay from \"pages/form/FormDisplay\";\nimport SubmitDisplay from \"./SubmitDisplay\";\nimport Section from \"components/Section\";\nimport Link from \"components/Link\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport Button from \"@material-ui/core/Button\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\n// Styles\nimport \"./create.scss\";\n\nconst emptyForm = {\n  title: \"\",\n  description: \"\",\n  questions: [{ text: \"\", options: [] }]\n};\nconst emptySubmit = {\n  to: \"\",\n  network: \"\"\n};\n\nfunction FormRoot() {\n  const [initialForm, setInitialForm] = useState(emptyForm);\n  const [initialSubmit, setInitialSubmit] = useState(emptySubmit);\n  const [form, _setForm] = useState(initialForm);\n  const [submit, _setSubmit] = useState(initialSubmit);\n  // Upload process\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [hash, setHash] = useState(\"\");\n\n  const steps = [\"Create form\", \"Choose submimission\", \"Publish\"];\n\n  /**\n   * Persist the form being edited.\n   * Use debouncing to prevent too many calls to JSON.stringify\n   */\n  const [debouncedCallback] = useDebouncedCallback(setEditedForm, 1000, []);\n  function setForm(newForm) {\n    _setForm(newForm);\n    debouncedCallback({ ...newForm, submit });\n  }\n  function setSubmit(newSubmit) {\n    _setSubmit(newSubmit);\n    debouncedCallback({ ...form, submit: newSubmit });\n  }\n\n  useEffect(() => {\n    const userEditedForm = getEditedForm();\n    if (userEditedForm) {\n      setInitialForm({\n        title: userEditedForm.title,\n        description: userEditedForm.description,\n        questions: userEditedForm.questions\n      });\n      setInitialSubmit(userEditedForm.submit);\n    }\n  }, []);\n\n  function getStepContent(stepIndex) {\n    switch (stepIndex) {\n      case 0:\n        return <FormEditor {...{ setForm, initialForm }} />;\n      case 1:\n        return <SubmitEditor {...{ setSubmit, initialSubmit }} />;\n      case 2:\n        return (\n          <>\n            <Section className=\"submit-mechanism\">\n              {uploading ? (\n                <>\n                  <p>Uploading...</p>\n                  <LinearProgress />\n                </>\n              ) : error ? (\n                <div style={{ color: \"red\" }}>Error publishing: {error}</div>\n              ) : (\n                <>\n                  <div className=\"title\">Review and confirm form</div>\n                  <Section style={{ opacity: 0.75 }}>\n                    <FormDisplay {...{ ...form, disabled: true }} />\n                    <SubmitDisplay {...{ submit }} />\n                  </Section>\n                </>\n              )}\n            </Section>\n          </>\n        );\n      case 3:\n        return (\n          <>\n            <Section>\n              <p>Form successfully uploaded</p>\n              <Link to={`/${hash}`}>\n                <Button variant=\"contained\" color=\"primary\">\n                  View form\n                </Button>\n              </Link>\n            </Section>\n          </>\n        );\n      default:\n        return \"Unknown stepIndex\";\n    }\n  }\n\n  async function publish() {\n    setUploading(true);\n    setError(\"\");\n    setHash(\"\");\n    try {\n      const formObj = {\n        title: form.title,\n        description: form.description,\n        questions: form.questions,\n        submit: {\n          to: submit.to,\n          network: submit.network,\n          address: submit.address\n        }\n      };\n      console.log(\"Uploading form object\", formObj);\n      const hash = await window.add(formObj);\n      setHash(hash);\n      storeUserForm(hash, formObj);\n      setActiveStep(3);\n      // Clear stored data\n      clearEditedForm();\n      setInitialForm(emptyForm);\n      setInitialSubmit(emptySubmit);\n    } catch (e) {\n      console.error(`Error uploading formObj: ${e.stack}`);\n      setError(e.message);\n    } finally {\n      setUploading(false);\n    }\n  }\n\n  const [activeStep, setActiveStep] = useState(0);\n\n  const disableNext =\n    (activeStep === 0 && !isFormValid(form)) ||\n    (activeStep === 1 && !isSubmitValid(submit));\n\n  return (\n    <div id=\"create\" className=\"site-width main-section\">\n      <div>\n        <Stepper activeStep={activeStep} alternativeLabel>\n          {steps.map(label => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n\n        {getStepContent(activeStep)}\n        <div style={{ marginTop: \"2rem\" }}>\n          {activeStep < steps.length && (\n            <>\n              <Button\n                disabled={activeStep === 0}\n                onClick={() => setActiveStep(s => s - 1)}\n              >\n                Back\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={disableNext}\n                onClick={() => {\n                  if (activeStep === 2) publish();\n                  else setActiveStep(s => s + 1);\n                }}\n              >\n                {activeStep === steps.length - 1 ? \"Publish\" : \"Next\"}\n              </Button>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"mt-5\" />\n    </div>\n  );\n}\n\nexport default FormRoot;\n","import FormRoot from \"./FormRoot\";\n\nexport default FormRoot;\n","import ipfsClient from \"ipfs-http-client\";\n\nconst ipfs = ipfsClient(\"ipfs.infura.io\", \"5001\", { protocol: \"https\" });\nwindow.ipfs = ipfs;\n\nasync function add(obj) {\n  const string = JSON.stringify(obj);\n  const content = ipfs.types.Buffer.from(string);\n  const results = await ipfs.add(content);\n  return results[0].hash; // \"Qm...WW\"\n}\n\nasync function cat(hash) {\n  const content = await ipfs.cat(hash);\n  const string = content.toString(\"utf8\");\n  return JSON.parse(string);\n}\n\nfunction isHash(hash) {\n  return ipfs.util.isIPFS.cid(hash);\n}\n\nwindow.add = add;\nwindow.cat = cat;\n\nexport default { add, cat, isHash };\n","import ipfs from \"services/ipfs\";\n\nfunction validateForm(form) {\n  if (!form.title) throw Error(\"Invalid form: Must contain a title\");\n  if (!form.questions || !Array.isArray(form.questions))\n    throw Error(\"Invalid form: Must contain questions\");\n  if (!form.submit)\n    throw Error(\"Invalid form: Must contain submit specification\");\n\n  // Make old forms compatible\n  // ###### DEV remove\n  form.questions = form.questions.map(({ text, title, options, answers }) => ({\n    text: text || title,\n    options: options || answers\n  }));\n  return form;\n}\n\nexport default async function fetchForm(hash) {\n  if (!ipfs.isHash(hash)) throw Error(`Invalid IPFS hash: ${hash}`);\n  let form = await ipfs.cat(hash);\n  form = validateForm(form);\n  return form;\n}\n","import Web3 from \"web3\";\nimport sumbitContractAbi from \"contracts/SumbitContractAbi.json\";\n\nconst hexCharactersPerAnswer = 1;\n\nasync function fetchSubmissions({ network, address, questions }) {\n  // Parse existing answers\n  const web3Local = new Web3(\n    `https://${network}.infura.io/v3/89b12e3b00cf40f5ae26cc72b3284a44`\n  );\n  const submitContract = new web3Local.eth.Contract(sumbitContractAbi, address);\n  const events = await submitContract.getPastEvents(\"Submission\", {\n    fromBlock: \"0\"\n  });\n  console.log(`events at submission contract ${network} ${address}`, events);\n\n  return events.map(event => {\n    const answers = (event.returnValues.answers || \"\").replace(\"0x\", \"\");\n    const parsedAnswers = [];\n    for (let i = 0; i < questions.length; i++) {\n      const stringPos = i * hexCharactersPerAnswer; // 1 hex characters per answer\n      const answerIndex = parseInt(\n        answers.slice(stringPos, stringPos + hexCharactersPerAnswer),\n        16\n      );\n      parsedAnswers.push({\n        title: questions[i].title,\n        answer: questions[i].options[answerIndex],\n        answerIndex\n      });\n    }\n    return {\n      answers: parsedAnswers,\n      txHash: event.transactionHash,\n      user: event.returnValues.user\n    };\n  });\n}\n\nexport default fetchSubmissions;\n","import Web3 from \"web3\";\nimport sumbitContractAbi from \"contracts/SumbitContractAbi.json\";\nimport CID from \"cids\";\n\nfunction hashToBytes32(hash) {\n  const cid = new CID(hash);\n  return (\n    \"0x\" +\n    cid.multihash\n      .slice(2, 64)\n      .toString(\"hex\")\n      .padStart(64, \"0\")\n  );\n}\n\nasync function submitAnswers({ answers, submit, hash }) {\n  if (!hash) throw Error(\"hash must be defined\");\n\n  const answerIds = Object.values(answers).map(answerIndex => {\n    if (isNaN(answerIndex)) throw Error(\"Answer index must be a number\");\n    if (answerIndex > 15)\n      throw Error(\"Max number of possible answers for questions is 15\");\n    return parseInt(answerIndex).toString(16);\n  });\n  const answerBytes = \"0x\" + answerIds.join(\"\").padEnd(64, \"0\");\n\n  /**\n   * Only one method is supported, via rinkeby\n   */\n\n  if (submit.to !== \"smartContract\") throw Error(\"Unsupported submit method\");\n\n  const result = await submitToSmartContract({\n    surveyId: hashToBytes32(hash),\n    answerBytes,\n    address: submit.address,\n    network: submit.network\n  });\n  return (result || {}).result;\n}\n\nasync function submitToSmartContract({\n  surveyId,\n  answerBytes,\n  address,\n  network\n}) {\n  if (!window.ethereum)\n    throw Error(\"You must have a recent version of metamask installed\");\n\n  console.log(\"Submitting answers to smart contract\", {\n    surveyId,\n    answerBytes,\n    address,\n    network\n  });\n\n  await window.ethereum.enable();\n  const web3 = new Web3(`https://${network}.infura.io`);\n  // Check addresses\n  if (!web3.utils.isAddress(window.ethereum.selectedAddress)) {\n    throw Error(\n      `Could not get address from window.ethereum.selectedAddress ${\n        window.ethereum.selectedAddress\n      }`\n    );\n  }\n  if (!web3.utils.isAddress(address)) {\n    throw Error(`Submit address is not valid: ${address}`);\n  }\n\n  const submitContract = new web3.eth.Contract(sumbitContractAbi, address);\n  const data = submitContract.methods.submit(surveyId, answerBytes).encodeABI();\n  const transactionParameters = {\n    to: address,\n    from: window.ethereum.selectedAddress,\n    data\n  };\n\n  async function sendAsync() {\n    return new Promise((resolve, reject) => {\n      window.ethereum.sendAsync(\n        {\n          method: \"eth_sendTransaction\",\n          params: [transactionParameters],\n          from: window.ethereum.selectedAddress\n        },\n        function(err, result) {\n          if (err) reject(err);\n          else resolve(result);\n        }\n      );\n    });\n  }\n  return await sendAsync();\n}\n\nexport default submitAnswers;\n","import React, { useState } from \"react\";\nimport submitAnswers from \"services/submitAnswers\";\n// Components\nimport FormDisplay from \"./FormDisplay\";\nimport Button from \"@material-ui/core/Button\";\n// Utils\nimport { areAnswersFulfilled } from \"utils/utils\";\n\nfunction Answer({ form, hash }) {\n  const { title, description, questions, submit } = form;\n\n  const [answers, setAnswers] = useState({});\n  const [txHash, setTxHash] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  async function onSubmit() {\n    try {\n      setSubmitting(true);\n      const submissionHash = await submitAnswers({\n        answers,\n        submit,\n        hash\n      });\n      setTxHash(submissionHash);\n    } catch (e) {\n      setError(e.message);\n      console.error(`rror onSubmit answers: ${e.message}`);\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  const answersFulfilled = areAnswersFulfilled(answers, questions);\n\n  if (txHash)\n    return (\n      <div>\n        <h5>Success!</h5>\n        <p>\n          Answers submitted to{\" \"}\n          <a href={`https://${submit.network}.etherscan.io/tx/${txHash}`}>\n            {submit.network}\n          </a>\n        </p>\n      </div>\n    );\n\n  return (\n    <>\n      <FormDisplay\n        {...{ title, description, questions, answers, setAnswers }}\n      />\n\n      <div className=\"submit\">\n        {submitting ? (\n          <h6>Submitting...</h6>\n        ) : (\n          <div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={onSubmit}\n              disabled={!answersFulfilled}\n            >\n              Submit\n            </Button>\n\n            <p style={{ opacity: 0.5, fontSize: \"75%\" }}>\n              Submits to {submit.to} at {submit.network} {submit.address}\n            </p>\n            {error && <h5>Error: {error}</h5>}\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default Answer;\n","export function getUnique(arr, comp) {\n  const unique = arr\n    .map(e => e[comp])\n    // store the keys of the unique objects\n    .map((e, i, final) => final.indexOf(e) === i && i)\n    // eliminate the dead keys & store unique objects\n    .filter(e => arr[e])\n    .map(e => arr[e]);\n  return unique;\n}\n\nexport function areAnswersFulfilled(answers, questions) {\n  if (!questions || !answers) return false;\n  for (let i = 0; i < questions.length; i++) {\n    if (!(i in answers)) return false;\n  }\n  return true;\n}\n\nexport function endWithQuestionMark(s) {\n  if (!s) return s;\n  if (s.endsWith(\"?\")) return s;\n  else return s + \"?\";\n}\n","import React from \"react\";\nimport Remove from \"@material-ui/icons/Remove\";\n\n// web3.eth.getTransactionCount\n\nfunction getQuestionResults(submissions) {\n  const totalResponses = submissions.length;\n\n  // Aggregate submissions counting answers per question\n  const questionsResults = [];\n  submissions.forEach(submission => {\n    submission.answers.forEach((answer, i) => {\n      if (!questionsResults[i]) questionsResults[i] = [];\n      const j = answer.answerIndex;\n      questionsResults[i][j] = questionsResults[i][j]\n        ? questionsResults[i][j] + 1\n        : 1;\n    });\n  });\n\n  // Convert the answer counts to a percent\n  return questionsResults.map(question =>\n    question.map(count => Math.round((100 * count) / totalResponses))\n  );\n}\n\nfunction getUniqueAddresses(submissions) {\n  return Object.keys(\n    submissions.reduce((users, { user }) => ({ ...users, [user]: true }), {})\n  );\n}\n\nfunction Results({ form, submissions }) {\n  const { title, questions } = form;\n\n  if (!form || !submissions) return null;\n\n  const uniqueAddresses = getUniqueAddresses(submissions);\n  const questionsResultsPercent = getQuestionResults(submissions);\n  const totalResponses = submissions.length;\n  const uniqueResponses = uniqueAddresses.length;\n\n  return (\n    <>\n      <div className=\"header\">\n        <div className=\"title\">{title}</div>\n      </div>\n\n      <div className=\"stats\">\n        <div className=\"name\">Total responses</div>\n        <div className=\"name\">Unique responses</div>\n        <div className=\"stat\">{totalResponses}</div>\n        <div className=\"stat\">{uniqueResponses}</div>\n      </div>\n\n      <details className=\"address-list\">\n        <summary>Unique addresses list</summary>\n        {uniqueAddresses.map(address => (\n          <div key={address}>{address}</div>\n        ))}\n      </details>\n\n      <h3>Results</h3>\n      {questions.map(({ text, options }, i) => {\n        return (\n          <div key={i} className=\"form-question\">\n            <div className=\"text\">{text}</div>\n            <div className=\"answers\">\n              {options.map((option, j) => {\n                const percent =\n                  ((questionsResultsPercent[i] || [])[j] || 0) + \"%\";\n                return (\n                  <React.Fragment key={j}>\n                    <div className=\"option\">\n                      <Remove />\n                      <span>{option}</span>\n                    </div>\n                    <div className=\"progress\">\n                      <div\n                        className=\"progress-bar\"\n                        role=\"progressbar\"\n                        style={{ width: percent }}\n                      >\n                        {percent}\n                      </div>\n                    </div>\n                  </React.Fragment>\n                );\n              })}\n            </div>\n          </div>\n        );\n      })}\n    </>\n  );\n}\n\nexport default Results;\n","import React, { useState, useEffect } from \"react\";\nimport { storeUserForm } from \"services/userForms\";\nimport fetchForm from \"services/fetchForm\";\nimport fetchSubmissions from \"services/fetchSubmissions\";\n// Components\nimport Answer from \"./Answer\";\nimport Results from \"./Results\";\nimport Loading from \"components/Loading\";\nimport Section from \"components/Section\";\nimport Link from \"components/Link\";\nimport Button from \"@material-ui/core/Button\";\n\n// Styles\nimport \"./form.scss\";\n\nlet cachedSubmissionsHash;\nfunction Form({ match }) {\n  const { hash, showResults } = match.params;\n\n  const [form, setForm] = useState(null);\n  const [submissions, setSubmissions] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    async function fetchFormEffect() {\n      try {\n        setLoading(true);\n        const _form = await fetchForm(hash);\n        setForm(_form);\n        console.log(`Fetched form for ${hash}`, _form);\n        storeUserForm(hash, _form);\n      } catch (e) {\n        setError(e.message);\n        console.error(`rror fetching form: ${e.stack}`);\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (hash) fetchFormEffect();\n  }, [hash]);\n\n  useEffect(() => {\n    async function fetchSubmissionsEffect() {\n      try {\n        setLoading(true);\n        const _submissions = await fetchSubmissions({\n          network: form.submit.network,\n          address: form.submit.address,\n          questions: form.questions\n        });\n        setSubmissions(_submissions);\n        console.log(`Fetched submissions for ${hash}`, _submissions);\n        cachedSubmissionsHash = hash;\n      } catch (e) {\n        setError(e.message);\n        console.error(`rror fetching submissions: ${e.stack}`);\n      } finally {\n        setLoading(false);\n      }\n    }\n    if (form && showResults && cachedSubmissionsHash !== hash)\n      fetchSubmissionsEffect();\n  }, [showResults, form]);\n\n  return (\n    <div className=\"site-width main-section\">\n      <Section id=\"form\">\n        {loading ? (\n          <Loading />\n        ) : !form ? (\n          <h5>No form</h5>\n        ) : showResults ? (\n          <Results {...{ form, submissions }} />\n        ) : (\n          <Answer {...{ form, hash }} />\n        )}\n\n        {form &&\n          (showResults ? (\n            <Link to={`/${hash}`}>\n              <Button>Back to form</Button>\n            </Link>\n          ) : (\n            <Link to={`/${hash}/results`}>\n              <Button>See Results</Button>\n            </Link>\n          ))}\n\n        {error && <h5>Error: {error}</h5>}\n      </Section>\n    </div>\n  );\n}\n\nexport default Form;\n\n// Utilities\n","import React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport \"./loading.scss\";\n\nconst Loading = () => (\n  <div className=\"loading\">\n    <div className=\"text\">Loading...</div>\n    <CircularProgress />\n  </div>\n);\n\nexport default Loading;\n","import React, { Component } from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Web3 from \"web3\";\nimport Nav from \"components/Nav\";\n// Pages\nimport Home from \"./pages/home/Home\";\nimport Create from \"./pages/create\";\nimport Form from \"./pages/form/Form\";\n\nconst web3 = new Web3(\"https://rinkeby.infura.io\");\nwindow.web3 = web3;\n// web3.eth.getTransactionCount\n\nconsole.log(\"Version: 1552176415442\");\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = { title: null, questions: null };\n  }\n\n  render() {\n    return (\n      <>\n        <CssBaseline />\n        <Nav />\n        <Switch>\n          <Route path={\"/\"} exact={true} component={Home} />\n          <Route path={\"/create/:publish?\"} component={Create} />\n          <Route path={\"/:hash/:showResults?\"} component={Form} />\n          <Route render={() => <h1>404 Route not found</h1>} />\n        </Switch>\n      </>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}
{"version":3,"sources":["logo.png","loader.gif","ipfs.js","parseHash.js","Nav.js","Create.js","Share.js","Loading.js","utils.js","Results.js","Form.js","Home.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ipfs","ipfsClient","protocol","add","_callee","obj","string","content","results","regenerator_default","a","wrap","_context","prev","next","JSON","stringify","types","Buffer","from","sent","abrupt","hash","stop","cat","_callee2","_context2","toString","parse","window","src_ipfs","isHash","util","isIPFS","cid","parseUrl","location","startsWith","slice","parts","split","length","find","s","links","Nav","parseHash","react_default","createElement","className","id","src","logo","style","width","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","map","link","key","Link","to","concat","React","Component","Loading","opacity","loader","getUnique","arr","comp","e","i","final","indexOf","filter","endWithQuestionMark","endsWith","Results","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","submissions","setState","loading","console","log","title","questions","Array","isArray","submit","validForm","web3Local","Web3","submitContract","eth","Contract","sumbitContractAbi","address","getPastEvents","fromBlock","events","event","answers","returnValues","replace","parsedAnswers","stringPos","answerIndex","parseInt","push","answer","txHash","transactionHash","user","totalResponses","uniqueAddresses","submission","uniqueResponses","questionsResults","forEach","j","error","t0","stack","_this2","src_Loading","maxWidth","borderWidth","padding","marginBottom","fontSize","question","marginTop","total","values","reduce","c","count","percent","Math","round","role","web3","Form","preventDefault","answerIds","isNaN","Error","padStart","answerBytes","join","ethereum","sendAsync","Promise","resolve","reject","method","params","transactionParameters","selectedAddress","err","result","enable","utils","isAddress","data","methods","encodeABI","submitting","submissionHash","_context3","answersFulfilled","areAnswersFulfilled","txHashUrl","max","apply","toConsumableArray","selectedStyle","backgroundColor","color","onClick","objectSpread","defineProperty","overflowWrap","href","bind","disabled","Share","origin","pathname","App","HashRouter","src_Nav","Route","path","exact","component","Home","Boolean","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7ee93c87.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/loader.8f677527.gif\";","import ipfsClient from \"ipfs-http-client\";\n\nconst ipfs = ipfsClient(\"ipfs.infura.io\", \"5001\", { protocol: \"https\" });\nwindow.ipfs = ipfs;\n\nasync function add(obj) {\n  const string = JSON.stringify(obj);\n  const content = ipfs.types.Buffer.from(string);\n  const results = await ipfs.add(content);\n  return results[0].hash; // \"Qm...WW\"\n}\n\nasync function cat(hash) {\n  const content = await ipfs.cat(hash);\n  const string = content.toString(\"utf8\");\n  return JSON.parse(string);\n}\n\nfunction isHash(hash) {\n  return ipfs.util.isIPFS.cid(hash);\n}\n\nwindow.add = add;\nwindow.cat = cat;\n\nexport default { add, cat, isHash };\n","import ipfs from \"./ipfs\";\n\nexport default function parseUrl() {\n  let hash = window.location.hash;\n  if (hash.startsWith(\"#/\")) hash = hash.slice(2);\n  else if (hash.startsWith(\"#\")) hash = hash.slice(1);\n  const parts = hash.split(\"/\");\n  if (parts.length < 2) return null;\n  else return parts.find(s => ipfs.isHash(s));\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"./logo.png\";\nimport parseHash from \"./parseHash\";\n\nconst links = [\n  // 'create',\n  // 'share',\n  \"results\",\n  \"form\"\n];\n\nconst Nav = () => {\n  const hash = parseHash();\n  return (\n    <nav\n      className=\"navbar navbar-expand-lg bg-secondary fixed-top text-uppercase\"\n      id=\"mainNav\"\n    >\n      <div className=\"container\">\n        <img src={logo} style={{ width: \"130px\" }} alt=\"logo\" />\n        <button\n          className=\"navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarResponsive\"\n          aria-controls=\"navbarResponsive\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          Menu\n          <i className=\"fas fa-bars\" />\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n          <ul className=\"navbar-nav ml-auto\">\n            {links.map(link => (\n              <li key={link} className=\"nav-item mx-0 mx-lg-1\">\n                <Link\n                  className=\"nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger\"\n                  to={`/${link}${hash ? \"/\" + hash : \"\"}`}\n                >\n                  {link}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\n\nexport default class Create extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      title: null,\n      questions: [{ title: \"awesome question\", answers: [\"ahhh\", \"booooh\"] }]\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col\">\n          <h3>Type your form title</h3>\n        </div>\n        <div className=\"col\">\n          <h3>TITLE</h3>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport parseHash from \"./parseHash\";\n\nexport default class Share extends Component {\n  render() {\n    const hash = parseHash();\n    return (\n      <div>\n        <h3>Your dForm lives in this link</h3>\n        <p>Finally a way to collect feedback in a decentralized way!!</p>\n        <form>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              value={`https://dapplion.github.io/decentralized-form/#/form/${hash}`}\n              placeholder=\"Some path\"\n              id=\"copy-input\"\n              readOnly\n            />\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport loader from \"./loader.gif\";\n\nconst Loading = () => (\n  <div className=\"mx-auto text-center mt-4\">\n    <h5 style={{ opacity: 0.5 }}>Loading...</h5>\n    <img src={loader} alt=\"loading\" />\n  </div>\n);\n\nexport default Loading;\n","export function getUnique(arr, comp) {\n  const unique = arr\n    .map(e => e[comp])\n    // store the keys of the unique objects\n    .map((e, i, final) => final.indexOf(e) === i && i)\n    // eliminate the dead keys & store unique objects\n    .filter(e => arr[e])\n    .map(e => arr[e]);\n  return unique;\n}\n\nexport function areAnswersFulfilled(answers, questions) {\n  if (!questions || !answers) return false;\n  for (let i = 0; i < questions.length; i++) {\n    if (!(i in answers)) return false;\n  }\n  return true;\n}\n\nexport function endWithQuestionMark(s) {\n  if (!s) return s;\n  if (s.endsWith(\"?\")) return s;\n  else return s + \"?\";\n}\n","import React, { Component } from \"react\";\nimport ipfs from \"./ipfs\";\nimport Web3 from \"web3\";\nimport sumbitContractAbi from \"./SumbitContractAbi.json\";\nimport \"./fromTemplate.css\";\nimport parseHash from \"./parseHash\";\nimport Loading from \"./Loading\";\nimport { getUnique, endWithQuestionMark } from \"./utils\";\n\n// web3.eth.getTransactionCount\n\nexport default class Results extends Component {\n  constructor() {\n    super();\n    this.state = { submissions: [] };\n  }\n\n  async componentDidMount() {\n    try {\n      const hash = parseHash();\n\n      // Parse hash\n      if (ipfs.isHash(hash)) {\n        this.setState({ loading: true });\n        const obj = await ipfs.cat(hash);\n        console.log({ hash, obj });\n        if (\n          obj.title &&\n          obj.questions &&\n          Array.isArray(obj.questions) &&\n          obj.submit\n        ) {\n          this.setState({\n            title: obj.title,\n            questions: obj.questions,\n            submit: obj.submit,\n            validForm: true\n          });\n\n          if ((this.state.submit || {}).to === \"rinkeby\") {\n            // Parse existing answers\n            const web3Local = new Web3(\"https://rinkeby.infura.io\");\n            const submitContract = new web3Local.eth.Contract(\n              sumbitContractAbi,\n              this.state.submit.address\n            );\n            const events = await submitContract.getPastEvents(\"Submission\", {\n              fromBlock: \"4001171\"\n            });\n            console.log({ events });\n\n            const submissions = events.map(event => {\n              const answers = (event.returnValues.answers || \"\").replace(\n                \"0x\",\n                \"\"\n              );\n              const parsedAnswers = [];\n              for (let i = 0; i < obj.questions.length; i++) {\n                const stringPos = i * 2; // 2 hex characters per byte\n                const answerIndex = parseInt(\n                  answers.slice(stringPos, stringPos + 2),\n                  16\n                );\n                parsedAnswers.push({\n                  title: obj.questions[i].title,\n                  answer: obj.questions[i].answers[answerIndex],\n                  answerIndex\n                });\n              }\n              return {\n                answers: parsedAnswers,\n                txHash: event.transactionHash,\n                user: event.returnValues.user\n              };\n            });\n            console.log({ submissions });\n\n            // Do math and aggregate the submissions\n            const totalResponses = submissions.length;\n            const uniqueAddresses = getUnique(submissions, \"user\").map(\n              submission => submission.user\n            );\n            const uniqueResponses = getUnique(submissions, \"user\").length;\n            const questionsResults = {};\n            submissions.forEach(submission => {\n              submission.answers.forEach((answer, i) => {\n                if (!questionsResults[i]) questionsResults[i] = {};\n                const j = answer.answerIndex;\n                questionsResults[i][j] = questionsResults[i][j]\n                  ? questionsResults[i][j] + 1\n                  : 1;\n              });\n            });\n            console.log(questionsResults);\n\n            this.setState({\n              submissions,\n              totalResponses,\n              uniqueResponses,\n              questionsResults,\n              uniqueAddresses\n            });\n            this.setState({ loading: false });\n          } else {\n            this.setState({ error: \"Unsupported submit method\" });\n          }\n        } else {\n          this.setState({ error: \"Form obj is not correct\" });\n          this.setState({ loading: false });\n        }\n      } else {\n        this.setState({ error: \"No valid IPFS hash provided\" });\n      }\n    } catch (e) {\n      this.setState({ error: `Error: ${e.stack}` });\n    }\n  }\n\n  render() {\n    if (this.state.loading) return <Loading />;\n    if (!this.state.loading && !this.state.submissions.length)\n      return <h5>No submissions yet</h5>;\n    return (\n      <div>\n        {this.state.error ? <h5>Error: {this.state.error}</h5> : null}\n\n        <h5>{this.state.title}</h5>\n        <table\n          className=\"table\"\n          style={{\n            maxWidth: \"300px\",\n            borderWidth: \"0px\",\n            padding: \"0px\",\n            marginBottom: \"0px\"\n          }}\n        >\n          <tbody>\n            <tr style={{ fontSize: \"80%\", opacity: \"0.7\" }}>\n              <td>Total responses</td>\n              <td>Unique responses</td>\n            </tr>\n            <tr style={{ fontSize: \"300%\" }}>\n              <td>{this.state.totalResponses}</td>\n              <td>{this.state.uniqueResponses}</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <details className=\"address-list\">\n          <summary>Unique addresses list</summary>\n          {(this.state.uniqueAddresses || []).map(address => (\n            <div key={address}>{address}</div>\n          ))}\n        </details>\n\n        <h3>Results</h3>\n        {(this.state.questions || []).map((question, i) => {\n          return (\n            <div key={i} style={{ marginTop: \"20px\" }}>\n              <div className=\"row\">\n                <div className=\"col-1\">\n                  <h5>{i + 1}</h5>\n                </div>\n                <div className=\"col-11\">\n                  <h5>{endWithQuestionMark(question.title)}</h5>\n                </div>\n              </div>\n\n              {question.answers.map((answer, j) => {\n                const results = (this.state.questionsResults || {})[i] || {};\n                const total = Object.values(results).reduce((a, c) => a + c, 0);\n                const count = results[j] || 0;\n                const percent = total\n                  ? Math.round((100 * count) / total) + \"%\"\n                  : null;\n                return (\n                  <div key={j}>\n                    <div className=\"row\">\n                      <div className=\"col-1\" />\n                      <div className=\"col-5\">{answer}</div>\n                      <div className=\"col-6\">\n                        <div className=\"progress\">\n                          <div\n                            className=\"progress-bar\"\n                            role=\"progressbar\"\n                            style={{ width: percent }}\n                          >\n                            {percent}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ipfs from \"./ipfs\";\nimport Web3 from \"web3\";\nimport sumbitContractAbi from \"./SumbitContractAbi.json\";\nimport parseHash from \"./parseHash\";\nimport Loading from \"./Loading\";\nimport { areAnswersFulfilled, endWithQuestionMark } from \"./utils\";\n\nconst web3 = new Web3(\"https://rinkeby.infura.io\");\nwindow.web3 = web3;\n// web3.eth.getTransactionCount\n\nexport default class Form extends Component {\n  constructor() {\n    super();\n    this.state = { title: null, questions: null, answers: {} };\n  }\n\n  async componentDidMount() {\n    try {\n      const hash = parseHash();\n\n      // Parse hash\n      if (ipfs.isHash(hash)) {\n        this.setState({ loading: true });\n        const obj = await ipfs.cat(hash);\n        console.log({ hash, obj });\n        if (\n          obj.title &&\n          obj.questions &&\n          Array.isArray(obj.questions) &&\n          obj.submit\n        ) {\n          this.setState({\n            title: obj.title,\n            questions: obj.questions,\n            submit: obj.submit,\n            validForm: true\n          });\n          this.setState({ loading: false });\n        } else {\n          this.setState({ error: \"Form obj is not correct\" });\n          this.setState({ loading: false });\n        }\n      } else {\n        this.setState({ error: \"No valid IPFS hash provided\" });\n      }\n    } catch (e) {\n      this.setState({ error: `Error: ${e.stack}`, loading: false });\n    }\n  }\n\n  async submit(e) {\n    try {\n      e.preventDefault();\n      const answerIds = Object.values(this.state.answers).map(answerIndex => {\n        if (isNaN(answerIndex)) throw Error(\"Answer index must be a number\");\n        if (answerIndex > 255)\n          throw Error(\"Max number of possible answers for questions is 255\");\n        return parseInt(answerIndex)\n          .toString(16)\n          .padStart(2, \"0\");\n      });\n      const answerBytes = \"0x\" + answerIds.join(\"\");\n      console.log({ answerBytes, submit: this.state.submit });\n      if ((this.state.submit || {}).to === \"rinkeby\") {\n        if (window.ethereum) {\n          await window.ethereum.enable();\n          const web3 = new Web3(\"https://rinkeby.infura.io\");\n          // Check addresses\n          if (!web3.utils.isAddress(window.ethereum.selectedAddress)) {\n            throw Error(\n              `Could not get address from window.ethereum.selectedAddress ${\n                window.ethereum.selectedAddress\n              }`\n            );\n          }\n          if (!web3.utils.isAddress(this.state.submit.address)) {\n            throw Error(\n              `Submit address is not valid: ${this.state.submit.address}`\n            );\n          }\n\n          const submitContract = new web3.eth.Contract(\n            sumbitContractAbi,\n            this.state.submit.address\n          );\n          const data = submitContract.methods.submit(answerBytes).encodeABI();\n          const transactionParameters = {\n            to: this.state.submit.address,\n            from: window.ethereum.selectedAddress,\n            data\n          };\n          this.setState({ submitting: true });\n          async function sendAsync() {\n            return new Promise((resolve, reject) => {\n              window.ethereum.sendAsync(\n                {\n                  method: \"eth_sendTransaction\",\n                  params: [transactionParameters],\n                  from: window.ethereum.selectedAddress\n                },\n                function(err, result) {\n                  if (err) reject(err);\n                  else resolve(result);\n                }\n              );\n            });\n          }\n          const result = await sendAsync();\n          this.setState({\n            submissionHash: (result || {}).result,\n            submitting: false\n          });\n        } else {\n          this.setState({\n            error: \"You must have a recent version of metamask installed\"\n          });\n        }\n      } else {\n        this.setState({ error: \"Unsupported submit method\" });\n      }\n    } catch (e) {\n      this.setState({\n        error: `Error: ${e.stack}`,\n        submitting: false,\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    const answersFulfilled = areAnswersFulfilled(\n      this.state.answers,\n      this.state.questions\n    );\n    console.log({\n      answers: this.state.answers,\n      questions: this.state.questions\n    });\n\n    if (this.state.loading) return <Loading />;\n\n    const txHashUrl =\n      (this.state.submit || {}).to === \"rinkeby\"\n        ? `https://rinkeby.etherscan.io/tx/${this.state.submissionHash}`\n        : null;\n\n    return (\n      <div>\n        {this.state.validForm ? (\n          <div>\n            <h3>{this.state.title}</h3>\n            <form>\n              {this.state.questions.map((question, i) => {\n                const maxAnswerLength = Math.max(\n                  ...question.answers.map(s => s.length)\n                );\n                const width = 50 + maxAnswerLength * 10 + \"px\";\n                return (\n                  <div key={i} className=\"mt-3\">\n                    <div className=\"row\">\n                      <div className=\"col-1\">\n                        <h5>{i + 1}</h5>\n                      </div>\n                      <div className=\"col-11\">\n                        <h5>{endWithQuestionMark(question.title)}</h5>\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-1\" />\n                      <div className=\"col-11\">\n                        {question.answers && Array.isArray(question.answers) ? (\n                          question.answers.map((answer, j) => {\n                            const selected = this.state.answers[i] === j;\n                            const selectedStyle = selected\n                              ? { backgroundColor: \"#6c757d\", color: \"white\" }\n                              : {};\n                            return (\n                              <div key={j}>\n                                <button\n                                  type=\"button\"\n                                  className=\"btn btn-outline-secondary mt-1 text-left\"\n                                  onClick={() =>\n                                    this.setState({\n                                      answers: { ...this.state.answers, [i]: j }\n                                    })\n                                  }\n                                  style={{\n                                    ...selectedStyle,\n                                    width,\n                                    overflowWrap: \"break-word\"\n                                  }}\n                                >\n                                  {answer}\n                                </button>\n                              </div>\n                            );\n                          })\n                        ) : (\n                          <p>Error, no valid answers</p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n\n              <div className=\"row mt-3\">\n                <div className=\"col-1\" />\n                <div className=\"col-11\">\n                  {this.state.submitting ? (\n                    <h6>Submitting...</h6>\n                  ) : this.state.submissionHash ? (\n                    <div>\n                      <h6>\n                        {txHashUrl ? (\n                          <a href={txHashUrl}>Submitted!</a>\n                        ) : (\n                          \"Submitted!\"\n                        )}{\" \"}\n                        Thank you for participating\n                      </h6>\n                    </div>\n                  ) : (\n                    <div>\n                      <button\n                        type=\"submit\"\n                        className=\"btn btn-primary\"\n                        onClick={this.submit.bind(this)}\n                        disabled={!answersFulfilled}\n                      >\n                        Submit\n                      </button>\n                      <p style={{ opacity: 0.5, fontSize: \"75%\" }}>\n                        Submits to {this.state.submit.to}{\" \"}\n                        {this.state.submit.address}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </form>\n          </div>\n        ) : null}\n        {this.state.error ? <h5>Error: {this.state.error}</h5> : null}\n      </div>\n    );\n  }\n}\n\n// Utilities\n","import React, { Component } from \"react\";\n\nexport default class Share extends Component {\n  render() {\n    return (\n      <div>\n        <h5>Decentralized forms, for decentralized projects</h5>\n        <p>Finally a way to collect feedback in a decentralized way!!</p>\n        <a\n          href={`${window.location.origin}${\n            window.location.pathname\n          }/#/form/QmckmTWYsSTgwsgBj45HAqRirC8WNXLo7FRr11tdN6yboY`}\n        >\n          Check a demo form\n        </a>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport Web3 from \"web3\";\nimport Nav from \"./Nav\";\nimport Create from \"./Create\";\nimport Share from \"./Share\";\nimport Results from \"./Results\";\nimport Form from \"./Form\";\nimport Home from \"./Home\";\nimport \"./fromTemplate.css\";\nimport \"./customizeBootstrap.css\";\n\nconst web3 = new Web3(\"https://rinkeby.infura.io\");\nwindow.web3 = web3;\n// web3.eth.getTransactionCount\n\nconsole.log(\"Version: 1552176415442\");\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = { title: null, questions: null };\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <Nav />\n          <div className=\"container\" style={{ marginTop: \"140px\" }}>\n            <Route path=\"/\" exact component={Home} />\n            {/* <Route path=\"/create\" component={Create} />\n          <Route path=\"/share\" component={Share} /> */}\n            <Route path=\"/results\" component={Results} />\n            <Route path=\"/form\" component={Form} />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}